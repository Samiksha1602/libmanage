{"ast":null,"code":"import _objectSpread from\"D:/sakshi college/cc miniproject/lib_management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"D:/sakshi college/cc miniproject/lib_management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _classCallCheck from\"D:/sakshi college/cc miniproject/lib_management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/sakshi college/cc miniproject/lib_management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:/sakshi college/cc miniproject/lib_management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:/sakshi college/cc miniproject/lib_management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/sakshi college/cc miniproject/lib_management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";var _excluded=[\"component\"],_excluded2=[\"component\"],_excluded3=[\"component\"];import React,{Component}from'react';import Header from'./HeaderComponent.js';import Footer from'./FooterComponent.js';import Home from'./HomeComponent.js';import Booklist from'./BooksComponent.js';import Search from'./SearchComponent.js';import BookDetail from'./BookDetailComponent.js';import Profile from'./ProfileComponent.js';import AddBook from'./AddBookComponent.js';import History from'./HistoryComponent.js';import Issue from'./IssueComponent.js';import Return from'./ReturnComponent.js';import UserDetail from'./UserDetailComponent.js';import Stats from'./StatsComponent.js';import Log from'./LogComponent.js';import UserList from'./UserListComponent.js';import{Switch,Route,Redirect,withRouter}from'react-router-dom';import{connect}from'react-redux';import{Modal,ModalBody,ModalHeader,Button,Label,Col,Row}from'reactstrap';import{postBook as _postBook,fetchBooks as _fetchBooks,editBook as _editBook,deleteBook as _deleteBook,loginUser as _loginUser,logoutUser as _logoutUser,registerUser as _registerUser,editUser as _editUser,editPassword as _editPassword,postIssue as _postIssue,returnIssue as _returnIssue,fetchIssues as _fetchIssues,fetchUsers as _fetchUsers}from'../redux/ActionCreators';import{Control,LocalForm,Errors}from'react-redux-form';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var required=function required(val){return val&&val.length;};var requiredNum=function requiredNum(val){return!!val;};var maxLength=function maxLength(len){return function(val){return!val||val.length<=len;};};var minLength=function minLength(len){return function(val){return val&&val.length>=len;};};var maxVal=function maxVal(len){return function(val){return!val||val<=len;};};var minVal=function minVal(len){return function(val){return val&&val>=len;};};var isNumber=function isNumber(val){return!isNaN(Number(val));};var mapStateToProps=function mapStateToProps(state){return{books:state.books,auth:state.auth,issues:state.issues,users:state.users};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{fetchBooks:function fetchBooks(){dispatch(_fetchBooks());},fetchIssues:function fetchIssues(student){dispatch(_fetchIssues(student));},fetchUsers:function fetchUsers(){dispatch(_fetchUsers());},postBook:function postBook(name,author,description,isbn,cat,floor,shelf,copies){return dispatch(_postBook(name,author,description,isbn,cat,floor,shelf,copies));},editBook:function editBook(_id,name,author,description,isbn,cat,floor,shelf,copies){return dispatch(_editBook(_id,name,author,description,isbn,cat,floor,shelf,copies));},deleteBook:function deleteBook(_id){return dispatch(_deleteBook(_id));},loginUser:function loginUser(creds){return dispatch(_loginUser(creds));},logoutUser:function logoutUser(){return dispatch(_logoutUser());},registerUser:function registerUser(creds){return dispatch(_registerUser(creds));},editUser:function editUser(_id,firstname,lastname,roll,email){return dispatch(_editUser(_id,firstname,lastname,roll,email));},editPassword:function editPassword(_id,username,password){return dispatch(_editPassword(_id,username,password));},postIssue:function postIssue(bookId,studentId){return dispatch(_postIssue(bookId,studentId));},returnIssue:function returnIssue(issueId){return dispatch(_returnIssue(issueId));}};};var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);var _super=_createSuper(Main);function Main(props){var _this;_classCallCheck(this,Main);_this=_super.call(this,props);_this.state={isDeleteModalOpen:false,isEditModalOpen:false,selectedBook:null};_this.toggleDeleteModal=_this.toggleDeleteModal.bind(_assertThisInitialized(_this));_this.toggleEditModal=_this.toggleEditModal.bind(_assertThisInitialized(_this));_this.changeSelected=_this.changeSelected.bind(_assertThisInitialized(_this));_this.handleSubmitEdit=_this.handleSubmitEdit.bind(_assertThisInitialized(_this));return _this;}_createClass(Main,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.fetchBooks();if(this.props.auth.isAuthenticated){this.props.fetchIssues(!this.props.auth.userinfo.admin);}if(this.props.auth.isAuthenticated&&this.props.auth.userinfo.admin){this.props.fetchUsers();}}},{key:\"handleSubmitEdit\",value:function handleSubmitEdit(values){this.toggleEditModal();this.props.editBook(this.state.selectedBook._id,values.name,values.author,values.description,values.isbn,values.cat,values.floor,values.shelf,values.copies);}},{key:\"changeSelected\",value:function changeSelected(_id){this.setState({selectedBook:this.props.books.books.filter(function(book){return book._id===_id;})[0]});}},{key:\"toggleDeleteModal\",value:function toggleDeleteModal(){this.setState({isDeleteModalOpen:!this.state.isDeleteModalOpen});}},{key:\"toggleEditModal\",value:function toggleEditModal(){this.setState({isEditModalOpen:!this.state.isEditModalOpen});}},{key:\"render\",value:function render(){var _this2=this;var BookWithId=function BookWithId(_ref){var match=_ref.match;var selectedBook=_this2.props.books.books.filter(function(book){return book._id===match.params.bookId;})[0];var notFoundErr=null;if(selectedBook===undefined){notFoundErr=\"\\n\\n Error 404 :  Book not found\";}return/*#__PURE__*/_jsx(BookDetail,{book:selectedBook,isLoading:_this2.props.books.isLoading,errMess:_this2.props.books.errMess||notFoundErr,toggleEditModal:_this2.toggleEditModal,changeSelected:_this2.changeSelected,isAdmin:_this2.props.auth.userinfo==null?false:_this2.props.auth.userinfo.admin});};var UserWithId=function UserWithId(_ref2){var match=_ref2.match;var selectedUser=_this2.props.users.users.filter(function(user){return user._id===match.params.userId;})[0];var notFoundErr=null;if(selectedUser===undefined){notFoundErr=\"\\n\\n Error 404 :  User not found\";}return/*#__PURE__*/_jsx(UserDetail,{user:selectedUser,isLoading:_this2.props.users.isLoading,errMess:_this2.props.users.errMess||notFoundErr});};var PrivateRouteCommon=function PrivateRouteCommon(_ref3){var Component=_ref3.component,rest=_objectWithoutProperties(_ref3,_excluded);return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(props){return _this2.props.auth.isAuthenticated?/*#__PURE__*/_jsx(Component,_objectSpread({},props)):/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/home',state:{from:props.location}}});}}));};var PrivateRouteAdmin=function PrivateRouteAdmin(_ref4){var Component=_ref4.component,rest=_objectWithoutProperties(_ref4,_excluded2);return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(props){return _this2.props.auth.isAuthenticated&&_this2.props.auth.userinfo.admin?/*#__PURE__*/_jsx(Component,_objectSpread({},props)):/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/home',state:{from:props.location}}});}}));};var PrivateRoute=function PrivateRoute(_ref5){var Component=_ref5.component,rest=_objectWithoutProperties(_ref5,_excluded3);return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:function render(props){return _this2.props.auth.isAuthenticated&&!_this2.props.auth.userinfo.admin?/*#__PURE__*/_jsx(Component,_objectSpread({},props)):/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/home',state:{from:props.location}}});}}));};var uniqueIsbn=function uniqueIsbn(defaultIsbn){return function(val){return!_this2.props.books.books.some(function(book){return book.isbn===val;})||val===defaultIsbn;};};var uniqueName=function uniqueName(defaultName){return function(val){return!_this2.props.books.books.some(function(book){return book.name===val;})||val===defaultName;};};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Header,{auth:this.props.auth,loginUser:this.props.loginUser,logoutUser:this.props.logoutUser,registerUser:this.props.registerUser}),/*#__PURE__*/_jsxs(Switch,{location:this.props.location,children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/home\",component:function component(){return/*#__PURE__*/_jsx(Home,{});}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/search\",component:function component(){return/*#__PURE__*/_jsx(Search,{books:_this2.props.books.books,booksLoading:_this2.props.books.isLoading,booksErrMess:_this2.props.books.errMess,isSignedIn:_this2.props.auth.isAuthenticated,isAdmin:_this2.props.auth.userinfo==null?false:_this2.props.auth.userinfo.admin,toggleEditModal:_this2.toggleEditModal,toggleDeleteModal:_this2.toggleDeleteModal,changeSelected:_this2.changeSelected});}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/books\",component:function component(){return/*#__PURE__*/_jsx(Booklist,{books:_this2.props.books.books,booksLoading:_this2.props.books.isLoading,booksErrMess:_this2.props.books.errMess,isSignedIn:_this2.props.auth.isAuthenticated,isAdmin:_this2.props.auth.userinfo==null?false:_this2.props.auth.userinfo.admin,auth:_this2.props.auth,toggleEditModal:_this2.toggleEditModal,toggleDeleteModal:_this2.toggleDeleteModal,changeSelected:_this2.changeSelected});}}),/*#__PURE__*/_jsx(Route,{path:\"/books/:bookId\",component:BookWithId}),/*#__PURE__*/_jsx(PrivateRouteCommon,{exact:true,path:\"/profile\",component:function component(){return/*#__PURE__*/_jsx(Profile,{auth:_this2.props.auth,editUser:_this2.props.editUser,editPassword:_this2.props.editPassword});}}),/*#__PURE__*/_jsx(PrivateRouteAdmin,{exact:true,path:\"/add_book\",component:function component(){return/*#__PURE__*/_jsx(AddBook,{isAdmin:_this2.props.auth.userinfo==null?false:_this2.props.auth.userinfo.admin,postBook:_this2.props.postBook,books:_this2.props.books.books,booksLoading:_this2.props.books.isLoading,booksErrMess:_this2.props.books.errMess});}}),/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/profile\",component:function component(){return/*#__PURE__*/_jsx(Profile,{auth:_this2.props.auth,editUser:_this2.props.editUser});}}),/*#__PURE__*/_jsx(PrivateRoute,{exact:true,path:\"/history\",component:function component(){return/*#__PURE__*/_jsx(History,{issues:_this2.props.issues,auth:_this2.props.auth});}}),/*#__PURE__*/_jsx(PrivateRouteAdmin,{exact:true,path:\"/logs\",component:function component(){return/*#__PURE__*/_jsx(Log,{issues:_this2.props.issues});}}),/*#__PURE__*/_jsx(PrivateRouteAdmin,{exact:true,path:\"/list_students\",component:function component(){return/*#__PURE__*/_jsx(UserList,{users:_this2.props.users.users.filter(function(user){return!user.admin;}),usersLoading:_this2.props.users.isLoading,usersErrMess:_this2.props.users.errMess});}}),/*#__PURE__*/_jsx(PrivateRouteAdmin,{exact:true,path:\"/list_admins\",component:function component(){return/*#__PURE__*/_jsx(UserList,{users:_this2.props.users.users.filter(function(user){return user.admin;}),usersLoading:_this2.props.users.isLoading,usersErrMess:_this2.props.users.errMess});}}),/*#__PURE__*/_jsx(PrivateRouteAdmin,{exact:true,path:\"/issue\",component:function component(){return/*#__PURE__*/_jsx(Issue,{auth:_this2.props.auth,books:_this2.props.books.books,booksLoading:_this2.props.books.isLoading,booksErrMess:_this2.props.books.errMess,users:_this2.props.users.users,usersLoading:_this2.props.users.isLoading,usersErrMess:_this2.props.users.errMess,postIssue:_this2.props.postIssue});}}),/*#__PURE__*/_jsx(PrivateRouteAdmin,{exact:true,path:\"/return\",component:function component(){return/*#__PURE__*/_jsx(Return,{issues:_this2.props.issues,auth:_this2.props.auth,returnIssue:_this2.props.returnIssue});}}),/*#__PURE__*/_jsx(PrivateRouteAdmin,{path:\"/users/:userId\",component:UserWithId}),/*#__PURE__*/_jsx(PrivateRouteAdmin,{path:\"/stats\",component:function component(){return/*#__PURE__*/_jsx(Stats,{issues:_this2.props.issues,books:_this2.props.books.books,booksLoading:_this2.props.books.isLoading,booksErrMess:_this2.props.books.errMess,users:_this2.props.users.users,usersLoading:_this2.props.users.isLoading,usersErrMess:_this2.props.users.errMess});}}),/*#__PURE__*/_jsx(Redirect,{to:\"/home\"})]}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsxs(Modal,{isOpen:this.state.isDeleteModalOpen,toggle:this.toggleDeleteModal,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:this.toggleDeleteModal,children:\"Confirm Deletion\"}),/*#__PURE__*/_jsxs(ModalBody,{children:[\"Book details : \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"Name : \",this.state.selectedBook?this.state.selectedBook.name:'',\" \",/*#__PURE__*/_jsx(\"br\",{}),\"Authors : \",this.state.selectedBook?this.state.selectedBook.author:'',\" \",/*#__PURE__*/_jsx(\"br\",{}),\"ISBN Number : \",this.state.selectedBook?this.state.selectedBook.isbn:'',\" \",/*#__PURE__*/_jsx(\"br\",{}),\"Available Copies : \",this.state.selectedBook?this.state.selectedBook.copies:'',\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"Are you sure you wish to delete this book ? \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{color:\"danger\",onClick:function onClick(){_this2.props.deleteBook(_this2.state.selectedBook._id);_this2.toggleDeleteModal();},children:\"Yes\"}),' ',/*#__PURE__*/_jsx(Button,{color:\"warning\",onClick:function onClick(){_this2.toggleDeleteModal();},children:\"No\"})]})]}),this.state.selectedBook?/*#__PURE__*/_jsxs(Modal,{isOpen:this.state.isEditModalOpen,toggle:this.toggleEditModal,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:this.toggleEditModal,children:\"Edit a book\"}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsxs(LocalForm,{onSubmit:function onSubmit(values){return _this2.handleSubmitEdit(values);},children:[/*#__PURE__*/_jsxs(Row,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"name\",md:2,children:\"Name \"}),/*#__PURE__*/_jsxs(Col,{md:10,children:[/*#__PURE__*/_jsx(Control.text,{model:\".name\",id:\"name\",name:\"name\",defaultValue:this.state.selectedBook.name,className:\"form-control\",validators:{required:required,minLength:minLength(3),uniqueName:uniqueName(this.state.selectedBook.name)}}),/*#__PURE__*/_jsx(Errors,{className:\"text-danger\",model:\".name\",show:\"touched\",messages:{required:'Required',minLength:'Must be greater than 2 characters',uniqueName:' There exists a book with this name already'}})]})]}),/*#__PURE__*/_jsxs(Row,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"author\",md:2,children:\"Authors \"}),/*#__PURE__*/_jsxs(Col,{md:10,children:[/*#__PURE__*/_jsx(Control.text,{model:\".author\",id:\"author\",name:\"author\",defaultValue:this.state.selectedBook.author,className:\"form-control\",validators:{required:required,minLength:minLength(3)}}),/*#__PURE__*/_jsx(Errors,{className:\"text-danger\",model:\".author\",show:\"touched\",messages:{required:'Required',minLength:'Must be greater than 2 characters'}})]})]}),/*#__PURE__*/_jsxs(Row,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"isbn\",md:4,children:\"ISBN No.\"}),/*#__PURE__*/_jsxs(Col,{md:8,children:[/*#__PURE__*/_jsx(Control.text,{model:\".isbn\",id:\"isbn\",name:\"isbn\",defaultValue:this.state.selectedBook.isbn,className:\"form-control\",validators:{required:required,minLength:minLength(10),maxLength:maxLength(13),isNumber:isNumber,uniqueIsbn:uniqueIsbn(this.state.selectedBook.isbn)}}),/*#__PURE__*/_jsx(Errors,{className:\"text-danger\",model:\".isbn\",show:\"touched\",messages:{required:'Required',minLength:'Must be greater than 9 numbers',maxLength:'Must be 13 numbers or less',isNumber:'Must be a number',uniqueIsbn:' There exists a book with this ISBN No.'}})]})]}),/*#__PURE__*/_jsx(Row,{className:\"form-group\",children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"cat\",children:\"Category\"}),/*#__PURE__*/_jsxs(Control.select,{model:\".cat\",id:\"cat\",className:\"form-control\",defaultValue:this.state.selectedBook.cat,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Romance\"}),\" \",/*#__PURE__*/_jsx(\"option\",{children:\"Technology\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Computer Science\"}),\" \",/*#__PURE__*/_jsx(\"option\",{children:\"Management\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Electronics\"}),\" \",/*#__PURE__*/_jsx(\"option\",{children:\"Physics\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Chemistry\"}),\" \",/*#__PURE__*/_jsx(\"option\",{children:\"Mathematics\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Fiction\"}),\" \",/*#__PURE__*/_jsx(\"option\",{children:\"Philosophy\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Language\"}),\" \",/*#__PURE__*/_jsx(\"option\",{children:\"Arts\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Other\"})]})]})}),/*#__PURE__*/_jsxs(Row,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"copies\",md:6,children:\" Copies Available\"}),/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(Control.text,{model:\".copies\",id:\"copies\",name:\"copies\",defaultValue:this.state.selectedBook.copies,className:\"form-control\",validators:{requiredNum:requiredNum,minVal:minVal(1),maxVal:maxVal(1000),isNumber:isNumber}}),/*#__PURE__*/_jsx(Errors,{className:\"text-danger\",model:\".copies\",messages:{requiredNum:'Required',minVal:'Must be greater than 0',maxVal:'Must be 1000 or less',isNumber:'Must be a number'}})]})]}),/*#__PURE__*/_jsx(Row,{className:\"form-group\",children:/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"floor\",children:\"Floor \"}),/*#__PURE__*/_jsxs(Control.select,{model:\".floor\",id:\"floor\",className:\"form-control\",defaultValue:this.state.selectedBook.floor,children:[/*#__PURE__*/_jsx(\"option\",{children:\"0\"}),\" \",/*#__PURE__*/_jsx(\"option\",{children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{children:\"2\"}),\" \",/*#__PURE__*/_jsx(\"option\",{children:\"3\"}),/*#__PURE__*/_jsx(\"option\",{children:\"4\"}),\" \",/*#__PURE__*/_jsx(\"option\",{children:\"5\"}),/*#__PURE__*/_jsx(\"option\",{children:\"6\"}),\" \",/*#__PURE__*/_jsx(\"option\",{children:\"7\"}),/*#__PURE__*/_jsx(\"option\",{children:\"8\"})]})]})}),/*#__PURE__*/_jsxs(Row,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"shelf\",md:6,children:\" Shelf\"}),/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(Control.text,{model:\".shelf\",id:\"shelf\",name:\"shelf\",defaultValue:this.state.selectedBook.shelf,className:\"form-control\",validators:{requiredNum:requiredNum,minVal:minVal(1),maxVal:maxVal(100),isNumber:isNumber}}),/*#__PURE__*/_jsx(Errors,{className:\"text-danger\",model:\".shelf\",messages:{requiredNum:'Required',minVal:'Must be greater than 0',maxVal:'Must be 100 or less',isNumber:'Must be a number'}})]})]}),/*#__PURE__*/_jsxs(Row,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"description\",md:2,children:\"Description\"}),/*#__PURE__*/_jsx(Col,{md:10,children:/*#__PURE__*/_jsx(Control.textarea,{model:\".description\",id:\"description\",name:\"description\",rows:\"12\",defaultValue:this.state.selectedBook.description,className:\"form-control\"})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{className:\"ml-auto mr-auto\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"bg-primary\",children:\"Submit\"})})})]})})]}):/*#__PURE__*/_jsx(React.Fragment,{})]});}}]);return Main;}(Component);export default withRouter(connect(mapStateToProps,mapDispatchToProps)(Main));","map":{"version":3,"sources":["D:/sakshi college/cc miniproject/lib_management/client/src/components/MainComponent.js"],"names":["React","Component","Header","Footer","Home","Booklist","Search","BookDetail","Profile","AddBook","History","Issue","Return","UserDetail","Stats","Log","UserList","Switch","Route","Redirect","withRouter","connect","Modal","ModalBody","ModalHeader","Button","Label","Col","Row","postBook","fetchBooks","editBook","deleteBook","loginUser","logoutUser","registerUser","editUser","editPassword","postIssue","returnIssue","fetchIssues","fetchUsers","Control","LocalForm","Errors","required","val","length","requiredNum","maxLength","len","minLength","maxVal","minVal","isNumber","isNaN","Number","mapStateToProps","state","books","auth","issues","users","mapDispatchToProps","dispatch","student","name","author","description","isbn","cat","floor","shelf","copies","_id","creds","firstname","lastname","roll","email","username","password","bookId","studentId","issueId","Main","props","isDeleteModalOpen","isEditModalOpen","selectedBook","toggleDeleteModal","bind","toggleEditModal","changeSelected","handleSubmitEdit","isAuthenticated","userinfo","admin","values","setState","filter","book","BookWithId","match","params","notFoundErr","undefined","isLoading","errMess","UserWithId","selectedUser","user","userId","PrivateRouteCommon","component","rest","pathname","from","location","PrivateRouteAdmin","PrivateRoute","uniqueIsbn","defaultIsbn","some","uniqueName","defaultName"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport Header from './HeaderComponent.js';\r\nimport Footer from './FooterComponent.js';\r\nimport Home from './HomeComponent.js';\r\nimport Booklist from './BooksComponent.js';\r\nimport Search from './SearchComponent.js';\r\nimport BookDetail from './BookDetailComponent.js';\r\nimport Profile from './ProfileComponent.js';\r\nimport AddBook from './AddBookComponent.js';\r\nimport History from './HistoryComponent.js';\r\nimport Issue from './IssueComponent.js';\r\nimport Return from './ReturnComponent.js';\r\nimport UserDetail from './UserDetailComponent.js';\r\nimport Stats from './StatsComponent.js';\r\nimport Log from './LogComponent.js';\r\nimport UserList from './UserListComponent.js';\r\n\r\nimport {Switch,Route,Redirect, withRouter} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {Modal,ModalBody,ModalHeader,Button, Label, Col, Row} from 'reactstrap';\r\nimport { postBook, fetchBooks, editBook, deleteBook,loginUser, logoutUser, \r\n  registerUser, editUser, editPassword, postIssue, returnIssue, fetchIssues, fetchUsers} from '../redux/ActionCreators';\r\nimport { Control, LocalForm, Errors  } from 'react-redux-form';\r\n\r\nconst required = (val) => val && val.length;\r\nconst requiredNum = (val) => !!(val);\r\nconst maxLength = (len) => (val) => !(val) || (val.length <= len);\r\nconst minLength = (len) => (val) => (val) && (val.length >= len);\r\nconst maxVal = (len) => (val) => !(val) || (val<= len);\r\nconst minVal = (len) => (val) => (val) && (val>= len);\r\nconst isNumber = (val) => !isNaN(Number(val));\r\n\r\nconst mapStateToProps= (state)=>{\r\n  return{\r\n    books: state.books,\r\n    auth: state.auth,\r\n    issues: state.issues,\r\n    users: state.users\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchBooks: () => { dispatch(fetchBooks())},\r\n  fetchIssues: (student) =>{ dispatch(fetchIssues(student))},\r\n  fetchUsers: () => { dispatch(fetchUsers())},\r\n  postBook: (name, author, description, isbn, cat, floor, shelf, copies) => dispatch(postBook(name, author, description, isbn, cat, floor, shelf, copies)),\r\n  editBook: (_id, name, author, description, isbn, cat, floor, shelf, copies) => dispatch(editBook(_id, name, author, description, isbn, cat, floor, shelf, copies)),\r\n  deleteBook: (_id) =>  dispatch(deleteBook(_id)),\r\n  loginUser: (creds) => dispatch(loginUser(creds)),\r\n  logoutUser: () => dispatch(logoutUser()),\r\n  registerUser: (creds) => dispatch(registerUser(creds)),\r\n  editUser: (_id, firstname, lastname, roll, email) => dispatch(editUser(_id, firstname, lastname, roll, email)),\r\n  editPassword : (_id,username,password) => dispatch(editPassword(_id,username,password)),\r\n  postIssue: (bookId,studentId) => (dispatch(postIssue(bookId,studentId))),\r\n  returnIssue: (issueId) => (dispatch(returnIssue(issueId)))\r\n});\r\n\r\nclass Main extends Component {\r\n  \r\n  componentDidMount() {\r\n    this.props.fetchBooks();\r\n    if(this.props.auth.isAuthenticated){\r\n      this.props.fetchIssues(!this.props.auth.userinfo.admin);\r\n    }\r\n    if(this.props.auth.isAuthenticated&&this.props.auth.userinfo.admin){\r\n      this.props.fetchUsers();\r\n    }\r\n  }\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n          isDeleteModalOpen: false,\r\n          isEditModalOpen: false,\r\n          selectedBook: null\r\n        };\r\n        this.toggleDeleteModal=this.toggleDeleteModal.bind(this);\r\n        this.toggleEditModal=this.toggleEditModal.bind(this);\r\n        this.changeSelected=this.changeSelected.bind(this);\r\n        this.handleSubmitEdit = this.handleSubmitEdit.bind(this);\r\n      }\r\n    \r\n      handleSubmitEdit(values) {\r\n        this.toggleEditModal();\r\n        this.props.editBook(this.state.selectedBook._id, values.name, values.author,\r\n          values.description, values.isbn, values.cat, values.floor, values.shelf, values.copies);     \r\n        }\r\n    \r\n    changeSelected(_id){\r\n      this.setState({selectedBook:this.props.books.books.filter((book)=>(book._id===_id))[0]});\r\n    }\r\n\r\n    toggleDeleteModal(){\r\n      this.setState({isDeleteModalOpen: !this.state.isDeleteModalOpen})\r\n    }\r\n    \r\n    toggleEditModal(){\r\n      this.setState({isEditModalOpen: !this.state.isEditModalOpen});\r\n    }\r\n\r\n    render(){\r\n      const BookWithId = ({match}) => {\r\n      let selectedBook=this.props.books.books.filter((book) => (book._id)===(match.params.bookId))[0]\r\n      let notFoundErr=null;\r\n      if(selectedBook===undefined){\r\n      notFoundErr=(\"\\n\\n Error 404 :  Book not found\");\r\n      }  \r\n      return(\r\n          <BookDetail book={selectedBook}\r\n          isLoading={this.props.books.isLoading}\r\n          errMess={this.props.books.errMess||notFoundErr}\r\n          toggleEditModal={this.toggleEditModal}\r\n          changeSelected={this.changeSelected}\r\n          isAdmin={(this.props.auth.userinfo==null)?false:(this.props.auth.userinfo.admin)}\r\n          />\r\n          );\r\n      };\r\n    \r\n      const UserWithId = ({match}) => {\r\n        let selectedUser=this.props.users.users.filter((user) => ((user._id)===(match.params.userId)))[0];\r\n        let notFoundErr=null;\r\n        if(selectedUser===undefined){\r\n        notFoundErr=(\"\\n\\n Error 404 :  User not found\");\r\n        }  \r\n        return(\r\n            <UserDetail user={selectedUser}\r\n            isLoading={this.props.users.isLoading}\r\n            errMess={this.props.users.errMess||notFoundErr}\r\n            />\r\n            );\r\n        };\r\n   \r\n      const PrivateRouteCommon = ({ component: Component, ...rest }) => (\r\n        <Route {...rest} render={(props) => (\r\n          this.props.auth.isAuthenticated\r\n            ? <Component {...props} />\r\n            : <Redirect to={{\r\n                pathname: '/home',\r\n                state: { from: props.location }\r\n              }} />\r\n        )} />\r\n      );\r\n\r\n      const PrivateRouteAdmin = ({ component: Component, ...rest }) => (\r\n        <Route {...rest} render={(props) => (\r\n          this.props.auth.isAuthenticated&&this.props.auth.userinfo.admin\r\n            ? <Component {...props} />\r\n            : <Redirect to={{\r\n                pathname: '/home',\r\n                state: { from: props.location }\r\n              }} />\r\n        )} />\r\n      );\r\n\r\n      const PrivateRoute = ({ component: Component, ...rest }) => (\r\n        <Route {...rest} render={(props) => (\r\n          this.props.auth.isAuthenticated&&!this.props.auth.userinfo.admin\r\n            ? <Component {...props} />\r\n            : <Redirect to={{\r\n                pathname: '/home',\r\n                state: { from: props.location }\r\n              }} />\r\n        )} />\r\n      );\r\n\r\n      let uniqueIsbn= (defaultIsbn)=> (val) =>(!this.props.books.books.some((book)=>(book.isbn===val))||(val===defaultIsbn))\r\n      let uniqueName= (defaultName)=>(val) =>(!this.props.books.books.some((book)=>(book.name===val))||(val===defaultName))\r\n\r\n    return ( \r\n          <div className=\"App\">\r\n          <Header auth={this.props.auth} \r\n          loginUser={this.props.loginUser} \r\n          logoutUser={this.props.logoutUser}\r\n          registerUser={this.props.registerUser}\r\n          />\r\n          <Switch location={this.props.location}>\r\n                      <Route exact path='/home' component={() => <Home />} />\r\n                      <Route exact path='/search' component={() => <Search \r\n                      books={this.props.books.books}\r\n                      booksLoading={this.props.books.isLoading}\r\n                      booksErrMess={this.props.books.errMess}\r\n                      isSignedIn={this.props.auth.isAuthenticated}\r\n                      isAdmin={(this.props.auth.userinfo==null)?false:(this.props.auth.userinfo.admin)}\r\n                      toggleEditModal={this.toggleEditModal}\r\n                      toggleDeleteModal={this.toggleDeleteModal}\r\n                      changeSelected={this.changeSelected}\r\n                />}\r\n                />\r\n\r\n                      <Route exact path='/books' component={() => <Booklist\r\n                      books={this.props.books.books}\r\n                      booksLoading={this.props.books.isLoading}\r\n                      booksErrMess={this.props.books.errMess}\r\n                      isSignedIn={this.props.auth.isAuthenticated}\r\n                      isAdmin={(this.props.auth.userinfo==null)?false:(this.props.auth.userinfo.admin)}\r\n                      auth={this.props.auth}\r\n                      toggleEditModal={this.toggleEditModal}\r\n                      toggleDeleteModal={this.toggleDeleteModal}\r\n                      changeSelected={this.changeSelected}/>}/>\r\n                      <Route path='/books/:bookId' component={BookWithId} />\r\n                      <PrivateRouteCommon exact path='/profile' component={() => <Profile\r\n                      auth={this.props.auth}\r\n                      editUser={this.props.editUser} \r\n                      editPassword={this.props.editPassword}/>\r\n                      }\r\n                      />\r\n                       <PrivateRouteAdmin exact path='/add_book' component={() => <AddBook\r\n                      isAdmin={(this.props.auth.userinfo==null)?false:(this.props.auth.userinfo.admin)}\r\n                      postBook={this.props.postBook}\r\n                      books={this.props.books.books}\r\n                      booksLoading={this.props.books.isLoading}\r\n                      booksErrMess={this.props.books.errMess}\r\n                      />\r\n                      }/>\r\n                      <PrivateRoute exact path='/profile' component={() => <Profile\r\n                      auth={this.props.auth}\r\n                      editUser={this.props.editUser} />}\r\n                      />\r\n                       <PrivateRoute exact path='/history' component={() => <History\r\n                      issues={this.props.issues}\r\n                      auth={this.props.auth}\r\n                     />}\r\n                      />\r\n                       <PrivateRouteAdmin exact path='/logs' component={() => <Log\r\n                      issues={this.props.issues}\r\n                     />}\r\n                      />\r\n                         <PrivateRouteAdmin exact path='/list_students' component={() => <UserList\r\n                      users={this.props.users.users.filter((user)=>(!user.admin))}\r\n                      usersLoading={this.props.users.isLoading}\r\n                      usersErrMess={this.props.users.errMess}\r\n                     />}\r\n                      />\r\n                         <PrivateRouteAdmin exact path='/list_admins' component={() => <UserList\r\n                      users={this.props.users.users.filter((user)=>(user.admin))}\r\n                      usersLoading={this.props.users.isLoading}\r\n                      usersErrMess={this.props.users.errMess}\r\n                     />}\r\n                      />\r\n                       <PrivateRouteAdmin exact path='/issue' component={() => <Issue\r\n                      auth={this.props.auth}\r\n                      books={this.props.books.books}\r\n                      booksLoading={this.props.books.isLoading}\r\n                      booksErrMess={this.props.books.errMess}\r\n                      users={this.props.users.users}\r\n                      usersLoading={this.props.users.isLoading}\r\n                      usersErrMess={this.props.users.errMess}\r\n                      postIssue={this.props.postIssue}\r\n                       />} />\r\n                      <PrivateRouteAdmin exact path='/return' component={() => <Return\r\n                      issues={this.props.issues}\r\n                      auth={this.props.auth}\r\n                      returnIssue={this.props.returnIssue}\r\n                     />} />\r\n                      <PrivateRouteAdmin path='/users/:userId' component={UserWithId}/>\r\n                      <PrivateRouteAdmin path='/stats' component={() => <Stats\r\n                      issues={this.props.issues}\r\n                      books={this.props.books.books}\r\n                      booksLoading={this.props.books.isLoading}\r\n                      booksErrMess={this.props.books.errMess}\r\n                      users={this.props.users.users}\r\n                      usersLoading={this.props.users.isLoading}\r\n                      usersErrMess={this.props.users.errMess}\r\n                     />}/>\r\n                      <Redirect to=\"/home\"/>\r\n          </Switch>\r\n        <Footer/>\r\n        <Modal isOpen={this.state.isDeleteModalOpen} toggle={this.toggleDeleteModal}>\r\n                     <ModalHeader toggle={this.toggleDeleteModal}>\r\n                         Confirm Deletion\r\n                     </ModalHeader>\r\n                     <ModalBody>\r\n                       Book details : <br/><br/>\r\n                        Name : {this.state.selectedBook?this.state.selectedBook.name:''} <br/>\r\n                        Authors : {this.state.selectedBook?this.state.selectedBook.author:''} <br/>\r\n                        ISBN Number : {this.state.selectedBook?this.state.selectedBook.isbn:''} <br/>\r\n                        Available Copies : {this.state.selectedBook?this.state.selectedBook.copies:''} <br/> <br/>\r\n                        Are you sure you wish to delete this book ? <br/><br/>\r\n         <Button color=\"danger\" onClick={()=>{\r\n           this.props.deleteBook(this.state.selectedBook._id);\r\n           this.toggleDeleteModal();}}>Yes</Button>{' '}  \r\n         <Button color=\"warning\" onClick={()=>{\r\n           this.toggleDeleteModal();\r\n         }}>No</Button>\r\n                     </ModalBody>\r\n          </Modal>\r\n          {this.state.selectedBook?(\r\n                 <Modal isOpen={this.state.isEditModalOpen} toggle={this.toggleEditModal}>\r\n                     <ModalHeader toggle={this.toggleEditModal}>\r\n                         Edit a book\r\n                     </ModalHeader>\r\n                     <ModalBody>\r\n                    <LocalForm onSubmit={(values) => this.handleSubmitEdit(values)}>\r\n                    <Row className=\"form-group\">\r\n                                <Label htmlFor=\"name\" md={2}>Name </Label>\r\n                                <Col md={10}>\r\n                                    <Control.text model=\".name\" id=\"name\" name=\"name\"\r\n                                        defaultValue={this.state.selectedBook.name}\r\n                                        className=\"form-control\"\r\n                                        validators={{\r\n                                            required, minLength: minLength(3),\r\n                                            uniqueName: uniqueName(this.state.selectedBook.name)\r\n                                        }}\r\n                                         />\r\n                                    <Errors\r\n                                        className=\"text-danger\"\r\n                                        model=\".name\"\r\n                                        show=\"touched\"\r\n                                        messages={{\r\n                                            required: 'Required',\r\n                                            minLength: 'Must be greater than 2 characters',\r\n                                            uniqueName: ' There exists a book with this name already'\r\n                                        }}\r\n                                     />\r\n                                </Col>\r\n                            </Row>                    \r\n                            <Row className=\"form-group\">\r\n                                <Label htmlFor=\"author\" md={2}>Authors </Label>\r\n                                <Col md={10}>\r\n                                    <Control.text model=\".author\" id=\"author\" name=\"author\"\r\n                                        defaultValue={this.state.selectedBook.author}\r\n                                        className=\"form-control\"\r\n                                        validators={{\r\n                                            required, minLength: minLength(3)\r\n                                        }}\r\n                                         />\r\n                                    <Errors\r\n                                        className=\"text-danger\"\r\n                                        model=\".author\"\r\n                                        show=\"touched\"\r\n                                        messages={{\r\n                                            required: 'Required',\r\n                                            minLength: 'Must be greater than 2 characters'\r\n                                        }}\r\n                                     />\r\n                                </Col>\r\n                            </Row>\r\n                            <Row className=\"form-group\">\r\n                                <Label htmlFor=\"isbn\" md={4}>ISBN No.</Label>\r\n                                <Col md={8}>\r\n                                    <Control.text model=\".isbn\" id=\"isbn\" name=\"isbn\"\r\n                                        defaultValue={this.state.selectedBook.isbn}\r\n                                        className=\"form-control\"\r\n                                        validators={{\r\n                                            required, minLength: minLength(10), maxLength: maxLength(13), isNumber,\r\n                                            uniqueIsbn: uniqueIsbn(this.state.selectedBook.isbn)\r\n                                        }}\r\n                                         />\r\n                                    <Errors\r\n                                        className=\"text-danger\"\r\n                                        model=\".isbn\"\r\n                                        show=\"touched\"\r\n                                        messages={{\r\n                                            required: 'Required',\r\n                                            minLength: 'Must be greater than 9 numbers',\r\n                                            maxLength: 'Must be 13 numbers or less',\r\n                                            isNumber: 'Must be a number',\r\n                                            uniqueIsbn: ' There exists a book with this ISBN No.'\r\n                                        }}\r\n                                     />\r\n                                </Col>\r\n                            </Row>\r\n                                        \r\n                        <Row className=\"form-group\">\r\n                            <Col>\r\n                            <Label htmlFor=\"cat\">Category</Label>\r\n                            <Control.select model=\".cat\" id=\"cat\" className=\"form-control\" defaultValue={this.state.selectedBook.cat}>\r\n                              <option>Romance</option> <option>Technology</option>\r\n                              <option>Computer Science</option> <option>Management</option>\r\n                              <option>Electronics</option> <option>Physics</option>\r\n                              <option>Chemistry</option> <option>Mathematics</option>\r\n                              <option>Fiction</option> <option>Philosophy</option>\r\n                              <option>Language</option> <option>Arts</option>\r\n                              <option>Other</option> \r\n\r\n                                                          </Control.select>\r\n                            </Col>\r\n                        </Row>\r\n\r\n                        <Row className=\"form-group\">\r\n                                <Label htmlFor=\"copies\" md={6}> Copies Available</Label>\r\n                                <Col md={6}>\r\n                                    <Control.text model=\".copies\" id=\"copies\" name=\"copies\"\r\n                                        defaultValue={this.state.selectedBook.copies}\r\n                                        className=\"form-control\"\r\n                                        validators={{\r\n                                            requiredNum, minVal: minVal(1), maxVal: maxVal(1000), isNumber\r\n                                        }}\r\n                                         />\r\n                                    <Errors\r\n                                        className=\"text-danger\"\r\n                                        model=\".copies\"\r\n                                        messages={{\r\n                                            requiredNum: 'Required',\r\n                                            minVal: 'Must be greater than 0',\r\n                                            maxVal: 'Must be 1000 or less',\r\n                                            isNumber: 'Must be a number'\r\n                                        }}\r\n                                     />\r\n                                </Col>\r\n                            </Row>\r\n\r\n                        <Row className=\"form-group\">\r\n                            <Col>\r\n                            <Label htmlFor=\"floor\">Floor </Label>\r\n                            <Control.select model=\".floor\" id=\"floor\" className=\"form-control\" defaultValue={this.state.selectedBook.floor}>\r\n                              <option>0</option> <option>1</option>\r\n                              <option>2</option> <option>3</option>\r\n                              <option>4</option> <option>5</option>\r\n                              <option>6</option> <option>7</option>\r\n                              <option>8</option> \r\n                            </Control.select>\r\n                            </Col>\r\n                        </Row>\r\n                        \r\n                        <Row className=\"form-group\">\r\n                                <Label htmlFor=\"shelf\" md={6}> Shelf</Label>\r\n                                <Col md={6}>\r\n                                    <Control.text model=\".shelf\" id=\"shelf\" name=\"shelf\"\r\n                                        defaultValue={this.state.selectedBook.shelf}\r\n                                        className=\"form-control\"\r\n                                        validators={{\r\n                                            requiredNum, minVal: minVal(1), maxVal: maxVal(100), isNumber\r\n                                        }}\r\n                                         />\r\n                                    <Errors\r\n                                        className=\"text-danger\"\r\n                                        model=\".shelf\"\r\n                                        messages={{\r\n                                            requiredNum: 'Required',\r\n                                            minVal: 'Must be greater than 0',\r\n                                            maxVal: 'Must be 100 or less',\r\n                                            isNumber: 'Must be a number'\r\n                                        }}\r\n                                     />\r\n                                </Col>\r\n                            </Row>\r\n\r\n                     \r\n                        <Row className=\"form-group\">\r\n                                <Label htmlFor=\"description\" md={2}>Description</Label>\r\n                                <Col md={10}>\r\n                                    <Control.textarea model=\".description\" id=\"description\" name=\"description\"\r\n                                        rows=\"12\"\r\n                                        defaultValue={this.state.selectedBook.description}\r\n                                        className=\"form-control\" />\r\n                                </Col>\r\n                            </Row>\r\n                          <Row>\r\n                          <Col className=\"ml-auto mr-auto\">\r\n                        <Button type=\"submit\" className=\"bg-primary\">\r\n                            Submit\r\n                        </Button>\r\n                        </Col>\r\n                        </Row>\r\n                    </LocalForm>\r\n                </ModalBody>\r\n               \r\n          </Modal>):(<React.Fragment/>)}\r\n\r\n          </div>\r\n           );     \r\n    }\r\n    }\r\n\r\n    export default withRouter(connect(mapStateToProps,mapDispatchToProps)(Main));\r\n\r\n"]},"metadata":{},"sourceType":"module"}