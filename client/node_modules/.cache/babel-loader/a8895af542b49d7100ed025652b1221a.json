{"ast":null,"code":"var _jsxFileName = \"D:\\\\sakshi college\\\\cc miniproject\\\\lib_management\\\\client\\\\src\\\\components\\\\IssueComponent.js\";\nimport React, { Component } from 'react';\nimport { Button, Form, FormGroup, Label, Input, Col, Row } from 'reactstrap';\nimport Loading from './LoadingComponent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Issue extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isbn: '',\n      roll: ''\n    };\n  }\n\n  componentDidMount() {\n    window.scrollTo(0, 0);\n  }\n\n  render() {\n    if (this.props.booksLoading || this.props.usersLoading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 13\n      }, this);\n    } else if (this.props.booksErrMess) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container loading\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row heading\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 35\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 40\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: this.props.booksErrMess\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 13\n      }, this);\n    } else if (this.props.usersErrMess) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container loading\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row heading\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 35\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 40\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: this.props.usersErrMess\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this);\n    } else {\n      const bookoptions = this.props.books.map((book, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n        children: book.isbn\n      }, book.isbn, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 60\n      }, this));\n      const defaultBook = this.props.books[0]; // To just get list of the students (not the admins)\n\n      let useroptions = this.props.users.filter(user => !user.admin);\n      const defaultUser = useroptions[0];\n      useroptions = useroptions.map((user, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n        children: user.roll\n      }, user.roll, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 49\n      }, this));\n\n      if (this.state.isbn === '') {\n        this.setState({\n          isbn: defaultBook.isbn,\n          roll: defaultUser.roll\n        });\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row justify-content-center heading\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              align: \"center\",\n              children: \"  Issue book\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 3\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row row-content justify-content-center\",\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: e => {\n              let bookid = this.props.books.filter(book => book.isbn === this.state.isbn)[0]._id;\n\n              let studentid = this.props.users.filter(user => user.roll === this.state.roll)[0]._id;\n\n              this.props.postIssue(bookid, studentid);\n              e.preventDefault();\n            },\n            children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n              row: true,\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"isbn\",\n                children: \" ISBN No. of book\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"select\",\n                defaultValue: defaultBook.name,\n                name: \"isbn\",\n                id: \"isbn\",\n                className: \"form-control\",\n                onInput: e => {\n                  this.setState({\n                    isbn: e.target.value\n                  });\n                },\n                children: bookoptions\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n              row: true,\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"roll\",\n                children: \" Roll No. of student \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"select\",\n                id: \"roll\",\n                className: \"form-control\",\n                onInput: e => {\n                  this.setState({\n                    roll: e.target.value\n                  });\n                },\n                children: useroptions\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n              row: true,\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"name\",\n                children: \" Name of book \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"text\",\n                id: \"name\",\n                name: \"name\",\n                placeholder: \"Name of Book\",\n                defaultValue: defaultBook.name,\n                value: !this.state.isbn ? '' : this.props.books.filter(book => book.isbn === this.state.isbn)[0].name,\n                className: \"form-control\",\n                disabled: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 14\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n              row: true,\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"author\",\n                children: \" Authors \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"text\",\n                id: \"author\",\n                name: \"author\",\n                placeholder: \"Name of authors\",\n                defaultValue: defaultBook.author,\n                value: !this.state.isbn ? '' : this.props.books.filter(book => book.isbn === this.state.isbn)[0].author,\n                className: \"form-control\",\n                disabled: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n              row: true,\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"name_student\",\n                children: \" Name of student \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"text\",\n                id: \"name_student\",\n                name: \"name_student\",\n                placeholder: \"Name of student\",\n                defaultValue: defaultUser.firstname + ' ' + defaultUser.lastname,\n                value: !this.state.roll ? '' : this.props.users.filter(user => user.roll === this.state.roll)[0].firstname + ' ' + this.props.users.filter(user => user.roll === this.state.roll)[0].lastname,\n                className: \"form-control\",\n                disabled: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n              row: true,\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                htmlFor: \"username\",\n                children: \" Username of student \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                type: \"text\",\n                id: \"username\",\n                name: \"username\",\n                placeholder: \"Username of student\",\n                defaultValue: defaultUser.username,\n                value: !this.state.roll ? '' : this.props.users.filter(user => user.roll === this.state.roll)[0].username,\n                className: \"form-control\",\n                disabled: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              className: \"align-self-center\",\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                className: \"text-center\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"submit\",\n                  className: \"bg-primary\",\n                  children: \"Submit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 15\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 5\n      }, this);\n    }\n  }\n\n}\n\nexport default Issue;","map":{"version":3,"sources":["D:/sakshi college/cc miniproject/lib_management/client/src/components/IssueComponent.js"],"names":["React","Component","Button","Form","FormGroup","Label","Input","Col","Row","Loading","Issue","constructor","props","state","isbn","roll","componentDidMount","window","scrollTo","render","booksLoading","usersLoading","booksErrMess","usersErrMess","bookoptions","books","map","book","index","defaultBook","useroptions","users","filter","user","admin","defaultUser","setState","e","bookid","_id","studentid","postIssue","preventDefault","name","target","value","author","firstname","lastname","username"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\r\nimport { Button, Form, FormGroup, Label, Input, Col,Row } from 'reactstrap';\r\nimport Loading from './LoadingComponent';\r\n\r\n\r\nclass Issue extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n        isbn: '',\r\n        roll: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n      }\r\n\r\nrender(){\r\n    if (this.props.booksLoading||this.props.usersLoading) {\r\n        return(\r\n            <div className=\"container\">\r\n                <div className=\"row\">            \r\n                    <Loading />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    else if (this.props.booksErrMess) {\r\n        return(\r\n            <div className=\"container loading\">\r\n                <div className=\"row heading\"> \r\n                    <div className=\"col-12\">\r\n                        <br/><br/><br/><br/>\r\n                        <h3>{this.props.booksErrMess}</h3>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    else if (this.props.usersErrMess) {\r\n        return(\r\n            <div className=\"container loading\">\r\n                <div className=\"row heading\"> \r\n                    <div className=\"col-12\">\r\n                        <br/><br/><br/><br/>\r\n                        <h3>{this.props.usersErrMess}</h3>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    else\r\n   {\r\n    const bookoptions= this.props.books.map((book,index)=>(<option \r\n    key={book.isbn}>{book.isbn}</option>));\r\n    const defaultBook=this.props.books[0];\r\n    // To just get list of the students (not the admins)\r\n    let useroptions=this.props.users.filter((user)=>(!user.admin));\r\n    const defaultUser=useroptions[0];\r\n    useroptions= useroptions.map((user,index)=>(<option \r\n    key={user.roll}>{user.roll}</option>))\r\n    if(this.state.isbn==='') {\r\n        this.setState({isbn: defaultBook.isbn,roll: defaultUser.roll  });\r\n    }\r\n    return (\r\n    <div className=\"container full\">\r\n    <div className=\"row justify-content-center heading\">\r\n    <div className=\"col-12\">\r\n  <h3 align=\"center\">  Issue book</h3>\r\n  </div>\r\n    </div>\r\n    <div className=\"row row-content justify-content-center\">\r\n    <Form onSubmit={(e) => {\r\n        let bookid=this.props.books.filter((book)=>(book.isbn===this.state.isbn))[0]._id\r\n        let studentid=this.props.users.filter((user)=>(user.roll===this.state.roll))[0]._id;\r\n        this.props.postIssue(bookid,studentid);\r\n        e.preventDefault();\r\n    }}>\r\n\r\n        <FormGroup row>\r\n          <Label htmlFor=\"isbn\"> ISBN No. of book</Label>\r\n            <Input type=\"select\" defaultValue={defaultBook.name} name=\"isbn\" id=\"isbn\" className=\"form-control\" onInput={(e)=>{this.setState({isbn: e.target.value})}}>\r\n                  {bookoptions}\r\n            </Input>\r\n        </FormGroup>\r\n        <FormGroup row>\r\n          <Label htmlFor=\"roll\"> Roll No. of student </Label>\r\n            <Input type=\"select\" id=\"roll\" \r\n                   className=\"form-control\" onInput={(e)=>{this.setState({roll: e.target.value})}}>\r\n                   {useroptions}\r\n            </Input>\r\n        </FormGroup>\r\n        <FormGroup row>\r\n          <Label htmlFor=\"name\"> Name of book </Label>\r\n             <Input type=\"text\" id=\"name\" name=\"name\"\r\n                    placeholder=\"Name of Book\" defaultValue={defaultBook.name}\r\n                    value={!this.state.isbn?''\r\n                    :this.props.books.filter((book)=>(book.isbn===this.state.isbn))[0].name}\r\n                    className=\"form-control\" disabled/>\r\n        </FormGroup>\r\n        <FormGroup row>\r\n          <Label htmlFor=\"author\"> Authors </Label>\r\n            <Input type=\"text\" id=\"author\" name=\"author\"\r\n                   placeholder=\"Name of authors\" \r\n                   defaultValue={defaultBook.author}\r\n                   value={!this.state.isbn?''\r\n                   :this.props.books.filter((book)=>(book.isbn===this.state.isbn))[0].author}\r\n                    className=\"form-control\" disabled/>\r\n         </FormGroup>\r\n         <FormGroup row>\r\n          <Label htmlFor=\"name_student\"> Name of student </Label>\r\n            <Input type=\"text\" id=\"name_student\" name=\"name_student\"\r\n                   placeholder=\"Name of student\" \r\n                   defaultValue={defaultUser.firstname+' '+defaultUser.lastname}\r\n                   value={!this.state.roll?''\r\n                   :this.props.users.filter((user)=>(user.roll===this.state.roll))[0].firstname+' '+\r\n                   this.props.users.filter((user)=>(user.roll===this.state.roll))[0].lastname}\r\n                    className=\"form-control\" disabled/>\r\n         </FormGroup>\r\n         <FormGroup row>\r\n          <Label htmlFor=\"username\"> Username of student </Label>\r\n            <Input type=\"text\" id=\"username\" name=\"username\"\r\n                   placeholder=\"Username of student\" \r\n                   defaultValue={defaultUser.username}\r\n                   value={!this.state.roll?''\r\n                   :this.props.users.filter((user)=>(user.roll===this.state.roll))[0].username}\r\n                    className=\"form-control\" disabled/>\r\n         </FormGroup>\r\n         <Row className=\"align-self-center\">\r\n            <Col className=\"text-center\">\r\n              <Button type=\"submit\" className=\"bg-primary\">\r\n                            Submit\r\n               </Button>\r\n            </Col>\r\n        </Row>\r\n      </Form>\r\n     </div>\r\n     <br/>\r\n    </div>\r\n );\r\n\r\n}\r\n}\r\n}\r\n\r\nexport default Issue;"]},"metadata":{},"sourceType":"module"}