{"ast":null,"code":"import _classCallCheck from\"D:/sakshi college/cc miniproject/lib_management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/sakshi college/cc miniproject/lib_management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/sakshi college/cc miniproject/lib_management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/sakshi college/cc miniproject/lib_management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Button,Label,Col,Row}from'reactstrap';import{Control,LocalForm,Errors}from'react-redux-form';import Loading from'./LoadingComponent';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var required=function required(val){return val&&val.length;};var requiredNum=function requiredNum(val){return!!val;};var maxLength=function maxLength(len){return function(val){return!val||val.length<=len;};};var minLength=function minLength(len){return function(val){return val&&val.length>=len;};};var maxVal=function maxVal(len){return function(val){return!val||val<=len;};};var minVal=function minVal(len){return function(val){return val&&val>=len;};};var isNumber=function isNumber(val){return!isNaN(Number(val));};var AddBook=/*#__PURE__*/function(_Component){_inherits(AddBook,_Component);var _super=_createSuper(AddBook);function AddBook(props){var _this;_classCallCheck(this,AddBook);_this=_super.call(this,props);_this.state={};return _this;}_createClass(AddBook,[{key:\"componentDidMount\",value:function componentDidMount(){window.scrollTo(0,0);}},{key:\"render\",value:function render(){var _this2=this;var uniqueIsbn=function uniqueIsbn(val){return!_this2.props.books.some(function(book){return book.isbn===val;});};var uniqueName=function uniqueName(val){return!_this2.props.books.some(function(book){return book.name===val;});};if(this.props.booksLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(Loading,{})})});}else if(this.props.booksErrMess){return/*#__PURE__*/_jsx(\"div\",{className:\"container loading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row heading\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:this.props.booksErrMess})]})})});}else return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center heading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"h3\",{align:\"center\",children:\"  Add a book\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row row-content justify-content-center\",children:/*#__PURE__*/_jsxs(LocalForm,{onSubmit:function onSubmit(values){_this2.props.postBook(values.name,values.author,values.description,values.isbn,values.cat,values.floor,values.shelf,values.copies);},children:[/*#__PURE__*/_jsxs(Row,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"name\",md:2,children:\"Name \"}),/*#__PURE__*/_jsxs(Col,{md:4,children:[/*#__PURE__*/_jsx(Control.text,{model:\".name\",id:\"name\",name:\"name\",placeholder:\"Name of book\",className:\"form-control\",validators:{required:required,minLength:minLength(3),uniqueName:uniqueName}}),/*#__PURE__*/_jsx(Errors,{className:\"text-danger\",model:\".name\",show:\"touched\",messages:{required:'Required',minLength:' Must be greater than 2 characters',uniqueName:' There exists a book with this name already'}})]}),/*#__PURE__*/_jsx(Label,{htmlFor:\"author\",md:2,children:\"Authors \"}),/*#__PURE__*/_jsxs(Col,{md:4,children:[/*#__PURE__*/_jsx(Control.text,{model:\".author\",id:\"author\",name:\"author\",placeholder:\"Name of authors\",className:\"form-control\",validators:{required:required,minLength:minLength(3)}}),/*#__PURE__*/_jsx(Errors,{className:\"text-danger\",model:\".author\",show:\"touched\",messages:{required:'Required',minLength:' Must be greater than 2 characters'}})]})]}),/*#__PURE__*/_jsxs(Row,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"isbn\",md:2,children:\"ISBN No.\"}),/*#__PURE__*/_jsxs(Col,{md:4,children:[/*#__PURE__*/_jsx(Control.text,{model:\".isbn\",id:\"isbn\",name:\"isbn\",placeholder:\"ISBN no. of book\",className:\"form-control\",validators:{required:required,minLength:minLength(10),maxLength:maxLength(13),isNumber:isNumber,uniqueIsbn:uniqueIsbn}}),/*#__PURE__*/_jsx(Errors,{className:\"text-danger\",model:\".isbn\",show:\"touched\",messages:{required:'Required',minLength:' Must be greater than 9 numbers',maxLength:' Must be 13 numbers or less',isNumber:' Must be a number',uniqueIsbn:' There exists a book with this ISBN No.'}})]}),/*#__PURE__*/_jsx(Label,{htmlFor:\"copies\",md:3,children:\" Copies Available\"}),/*#__PURE__*/_jsxs(Col,{md:3,children:[/*#__PURE__*/_jsx(Control.text,{model:\".copies\",id:\"copies\",name:\"copies\",placeholder:\"Number of copies available\",className:\"form-control\",validators:{requiredNum:requiredNum,minVal:minVal(1),maxVal:maxVal(1000),isNumber:isNumber}}),/*#__PURE__*/_jsx(Errors,{className:\"text-danger\",model:\".copies\",show:\"touched\",messages:{requiredNum:'Required',minVal:' Must be greater than 0',maxVal:' Must be 1000 or less',isNumber:' Must be a number'}})]})]}),/*#__PURE__*/_jsxs(Row,{className:\"form-group\",children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"cat\",children:\"Category\"}),/*#__PURE__*/_jsxs(Control.select,{defaultValue:\"Romance\",model:\".cat\",id:\"cat\",className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Romance\"}),\" \",/*#__PURE__*/_jsx(\"option\",{children:\"Technology\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Computer Science\"}),\" \",/*#__PURE__*/_jsx(\"option\",{children:\"Management\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Electronics\"}),\" \",/*#__PURE__*/_jsx(\"option\",{children:\"Physics\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Chemistry\"}),\" \",/*#__PURE__*/_jsx(\"option\",{children:\"Mathematics\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Fiction\"}),\" \",/*#__PURE__*/_jsx(\"option\",{children:\"Philosophy\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Language\"}),\" \",/*#__PURE__*/_jsx(\"option\",{children:\"Arts\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Other\"})]})]}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"floor\",children:\"Floor \"}),/*#__PURE__*/_jsxs(Control.select,{defaultValue:0,model:\".floor\",id:\"floor\",className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"0\"}),\" \",/*#__PURE__*/_jsx(\"option\",{children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{children:\"2\"}),\" \",/*#__PURE__*/_jsx(\"option\",{children:\"3\"}),/*#__PURE__*/_jsx(\"option\",{children:\"4\"}),\" \",/*#__PURE__*/_jsx(\"option\",{children:\"5\"}),/*#__PURE__*/_jsx(\"option\",{children:\"6\"}),\" \",/*#__PURE__*/_jsx(\"option\",{children:\"7\"}),/*#__PURE__*/_jsx(\"option\",{children:\"8\"})]})]})]}),/*#__PURE__*/_jsxs(Row,{className:\"form-group text-center justify-content-center\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"shelf\",md:3,children:\" Shelf\"}),/*#__PURE__*/_jsxs(Col,{md:6,children:[/*#__PURE__*/_jsx(Control.text,{model:\".shelf\",id:\"shelf\",name:\"shelf\",placeholder:\"Shelf no. for locating book\",className:\"form-control\",validators:{requiredNum:requiredNum,minVal:minVal(1),maxVal:maxVal(100),isNumber:isNumber}}),/*#__PURE__*/_jsx(Errors,{className:\"text-danger\",model:\".shelf\",show:\"touched\",messages:{requiredNum:'Required',minVal:' Must be greater than 0',maxVal:' Must be 100 or less',isNumber:' Must be a number'}})]})]}),/*#__PURE__*/_jsxs(Row,{className:\"form-group\",children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"description\",md:2,children:\"Description\"}),/*#__PURE__*/_jsx(Col,{md:10,children:/*#__PURE__*/_jsx(Control.textarea,{model:\".description\",id:\"description\",name:\"description\",rows:\"12\",placeholder:\"Some description of the book\",className:\"form-control\"})})]}),/*#__PURE__*/_jsx(Row,{className:\"align-self-center\",children:/*#__PURE__*/_jsx(Col,{className:\"text-center\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"bg-primary\",children:\"Submit\"})})})]})}),/*#__PURE__*/_jsx(\"br\",{})]});}}]);return AddBook;}(Component);export default AddBook;","map":{"version":3,"sources":["D:/sakshi college/cc miniproject/lib_management/client/src/components/AddBookComponent.js"],"names":["React","Component","Button","Label","Col","Row","Control","LocalForm","Errors","Loading","required","val","length","requiredNum","maxLength","len","minLength","maxVal","minVal","isNumber","isNaN","Number","AddBook","props","state","window","scrollTo","uniqueIsbn","books","some","book","isbn","uniqueName","name","booksLoading","booksErrMess","values","postBook","author","description","cat","floor","shelf","copies"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\r\nimport {Button, Label, Col, Row} from 'reactstrap';\r\nimport { Control, LocalForm, Errors  } from 'react-redux-form';\r\nimport Loading from './LoadingComponent';\r\n\r\nconst required = (val) => val && val.length;\r\nconst requiredNum = (val) => !!(val);\r\nconst maxLength = (len) => (val) => !(val) || (val.length <= len);\r\nconst minLength = (len) => (val) => (val) && (val.length >= len);\r\nconst maxVal = (len) => (val) => !(val) || (val<= len);\r\nconst minVal = (len) => (val) => (val) && (val>= len);\r\nconst isNumber = (val) => !isNaN(Number(val));\r\n\r\nclass AddBook extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n        }\r\n\r\n    }\r\n    \r\n    componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n      }\r\n\r\nrender(){\r\n    let uniqueIsbn=(val) =>(!this.props.books.some((book)=>(book.isbn===val)))\r\n    let uniqueName=(val) =>(!this.props.books.some((book)=>(book.name===val)))\r\n\r\n    if (this.props.booksLoading) {\r\n        return(\r\n            <div className=\"container\">\r\n                <div className=\"row\">            \r\n                    <Loading />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    else if (this.props.booksErrMess) {\r\n        return(\r\n            <div className=\"container loading\">\r\n                <div className=\"row heading\"> \r\n                    <div className=\"col-12\">\r\n                        <br/><br/><br/><br/>\r\n                        <h3>{this.props.booksErrMess}</h3>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    else\r\n return (\r\n    <div className=\"container\">\r\n    <div className=\"row justify-content-center heading\">\r\n    <div className=\"col-12\">\r\n  <h3 align=\"center\">  Add a book</h3>\r\n  </div>\r\n    </div>\r\n    <div className=\"row row-content justify-content-center\">\r\n    <LocalForm onSubmit={(values) => {\r\n        this.props.postBook(values.name, values.author, values.description, values.isbn, values.cat, values.floor, values.shelf, values.copies);\r\n    }}>\r\n                    <Row className=\"form-group\">\r\n                                <Label htmlFor=\"name\" md={2}>Name </Label>\r\n                                <Col md={4}>\r\n                                    <Control.text model=\".name\" id=\"name\" name=\"name\"\r\n                                        placeholder=\"Name of book\"\r\n                                        className=\"form-control\"\r\n                                        validators={{\r\n                                            required, minLength: minLength(3),uniqueName\r\n                                        }}\r\n                                         />\r\n                                    <Errors\r\n                                        className=\"text-danger\"\r\n                                        model=\".name\"\r\n                                        show=\"touched\"\r\n                                        messages={{\r\n                                            required: 'Required',\r\n                                            minLength: ' Must be greater than 2 characters',\r\n                                            uniqueName: ' There exists a book with this name already'\r\n                                        }}\r\n                                     />\r\n                                </Col>\r\n                                 <Label htmlFor=\"author\" md={2}>Authors </Label>\r\n                                <Col md={4}>\r\n                                    <Control.text model=\".author\" id=\"author\" name=\"author\"\r\n                                        placeholder=\"Name of authors\"\r\n                                        className=\"form-control\"\r\n                                        validators={{\r\n                                            required, minLength: minLength(3)\r\n                                        }}\r\n                                         />\r\n                                    <Errors\r\n                                        className=\"text-danger\"\r\n                                        model=\".author\"\r\n                                        show=\"touched\"\r\n                                        messages={{\r\n                                            required: 'Required',\r\n                                            minLength: ' Must be greater than 2 characters'\r\n                                        }}\r\n                                     />\r\n                                </Col>\r\n                            </Row>\r\n                            <Row className=\"form-group\">\r\n                                <Label htmlFor=\"isbn\" md={2}>ISBN No.</Label>\r\n                                <Col md={4}>\r\n                                    <Control.text model=\".isbn\" id=\"isbn\" name=\"isbn\"\r\n                                        placeholder=\"ISBN no. of book\"\r\n                                        className=\"form-control\"\r\n                                        validators={{\r\n                                            required, minLength: minLength(10), maxLength: maxLength(13), isNumber,\r\n                                            uniqueIsbn\r\n                                        }}\r\n                                         />\r\n                                    <Errors\r\n                                        className=\"text-danger\"\r\n                                        model=\".isbn\"\r\n                                        show=\"touched\"\r\n                                        messages={{\r\n                                            required: 'Required',\r\n                                            minLength: ' Must be greater than 9 numbers',\r\n                                            maxLength: ' Must be 13 numbers or less',\r\n                                            isNumber: ' Must be a number',\r\n                                            uniqueIsbn: ' There exists a book with this ISBN No.'\r\n                                        }}\r\n                                     />\r\n                                </Col>\r\n                                <Label htmlFor=\"copies\" md={3}> Copies Available</Label>\r\n                                <Col md={3}>\r\n                                    <Control.text model=\".copies\" id=\"copies\" name=\"copies\"\r\n                                        placeholder=\"Number of copies available\"\r\n                                        className=\"form-control\"\r\n                                        validators={{\r\n                                            requiredNum, minVal: minVal(1), maxVal: maxVal(1000), isNumber\r\n                                        }}\r\n                                         />\r\n                                    <Errors\r\n                                        className=\"text-danger\"\r\n                                        model=\".copies\"\r\n                                        show=\"touched\"\r\n                                        messages={{\r\n                                            requiredNum: 'Required',\r\n                                            minVal: ' Must be greater than 0',\r\n                                            maxVal: ' Must be 1000 or less',\r\n                                            isNumber: ' Must be a number'\r\n                                        }}\r\n                                     />\r\n                                </Col>\r\n                            </Row>\r\n\r\n      \r\n                        <Row className=\"form-group\">\r\n                            <Col>\r\n                            <Label htmlFor=\"cat\">Category</Label>\r\n                            <Control.select defaultValue=\"Romance\" model=\".cat\" id=\"cat\" className=\"form-control\">\r\n                              <option>Romance</option> <option>Technology</option>\r\n                              <option>Computer Science</option> <option>Management</option>\r\n                              <option>Electronics</option> <option>Physics</option>\r\n                              <option>Chemistry</option> <option>Mathematics</option>\r\n                              <option>Fiction</option> <option>Philosophy</option>\r\n                              <option>Language</option> <option>Arts</option>\r\n                              <option>Other</option> \r\n\r\n                            </Control.select>\r\n                            </Col>\r\n                            <Col>\r\n                            <Label htmlFor=\"floor\">Floor </Label>\r\n                            <Control.select defaultValue={0} model=\".floor\" id=\"floor\" \r\n                            className=\"form-control\" >\r\n                              <option>0</option> <option>1</option>\r\n                              <option>2</option> <option>3</option>\r\n                              <option>4</option> <option>5</option>\r\n                              <option>6</option> <option>7</option>\r\n                              <option>8</option> \r\n                            </Control.select>\r\n                            </Col>\r\n                        </Row>\r\n                        \r\n                        <Row className=\"form-group text-center justify-content-center\">\r\n                                <Label htmlFor=\"shelf\" md={3}> Shelf</Label>\r\n                                <Col md={6}>\r\n                                    <Control.text model=\".shelf\" id=\"shelf\" name=\"shelf\"\r\n                                        placeholder=\"Shelf no. for locating book\"\r\n                                        className=\"form-control\"\r\n                                        validators={{\r\n                                            requiredNum, minVal: minVal(1), maxVal: maxVal(100), isNumber\r\n                                        }}\r\n                                         />\r\n                                    <Errors\r\n                                        className=\"text-danger\"\r\n                                        model=\".shelf\"\r\n                                        show=\"touched\"\r\n                                        messages={{\r\n                                            requiredNum: 'Required',\r\n                                            minVal: ' Must be greater than 0',\r\n                                            maxVal: ' Must be 100 or less',\r\n                                            isNumber: ' Must be a number'\r\n                                        }}\r\n                                     />\r\n                                </Col>\r\n                            </Row>\r\n\r\n                     \r\n                        <Row className=\"form-group\">\r\n                                <Label htmlFor=\"description\" md={2}>Description</Label>\r\n                                <Col md={10}>\r\n                                    <Control.textarea model=\".description\" id=\"description\" name=\"description\"\r\n                                        rows=\"12\"\r\n                                        placeholder=\"Some description of the book\"\r\n                                        className=\"form-control\" />\r\n                                </Col>\r\n                            </Row>\r\n                          <Row className=\"align-self-center\">\r\n                          <Col className=\"text-center\">\r\n                        <Button type=\"submit\" className=\"bg-primary\">\r\n                            Submit\r\n                        </Button>\r\n                        </Col>\r\n                        </Row>\r\n                    </LocalForm>\r\n                    </div>\r\n                <br/>\r\n    </div>\r\n );\r\n\r\n}\r\n\r\n}\r\n\r\nexport default AddBook;"]},"metadata":{},"sourceType":"module"}