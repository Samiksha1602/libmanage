{"ast":null,"code":"import _classCallCheck from\"D:/sakshi college/cc miniproject/lib_management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/sakshi college/cc miniproject/lib_management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:/sakshi college/cc miniproject/lib_management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:/sakshi college/cc miniproject/lib_management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/sakshi college/cc miniproject/lib_management/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Form,FormGroup,Row,Col,Label,Input,Badge,ListGroupItem,ListGroup}from'reactstrap';import Loading from'./LoadingComponent.js';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(props){var _this;_classCallCheck(this,Search);_this=_super.call(this,props);_this.state={name:'',author:'',cat:['Romance','Technology','Computer Science','Management','Electronics','Physics','Chemistry','Mathematics','Fiction','Philosophy','Language','Arts','Other']};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));return _this;}_createClass(Search,[{key:\"onChange\",value:function onChange(e){var options=this.state.cat;var pos=-1;if(e.target.checked){options.push(e.target.value);}else{var i=0;for(;i<options.length;i++){if(options[i]===e.target.value){pos=i;break;}else{}}options.splice(pos,1);}this.setState({cat:options});}},{key:\"componentDidMount\",value:function componentDidMount(){window.scrollTo(0,0);}},{key:\"render\",value:function render(){var _this2=this;var colors=[\"warning\",\"danger\",\"success\",\"info\",\"secondary\"];var nameRegex=new RegExp(this.state.name,'i');var authorRegex=new RegExp(this.state.author,'i');var list=this.props.books.map(function(book){var category_matched=_this2.state.cat.some(function(category){return category===book.cat;});if(book.name.search(nameRegex)!==-1&&book.author.search(authorRegex)!==-1&&category_matched)return/*#__PURE__*/_jsxs(ListGroupItem,{children:[/*#__PURE__*/_jsx(Link,{to:\"/books/\".concat(book._id),children:/*#__PURE__*/_jsx(\"b\",{children:\"\".concat(book.name,\"  \")})}),/*#__PURE__*/_jsxs(Badge,{color:colors[book.cat.length%5],pill:true,children:[\" \",book.cat]}),_this2.props.isAdmin?/*#__PURE__*/_jsxs(React.Fragment,{children:[\"\\xA0 \\xA0\",/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){_this2.props.changeSelected(book._id);_this2.props.toggleEditModal();},className:\"Option fa fa-pencil\"}),'  ',\"\\xA0   \\xA0        \",/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){_this2.props.changeSelected(book._id);_this2.props.toggleDeleteModal();},className:\"Option fa fa-trash\"})]}):/*#__PURE__*/_jsx(React.Fragment,{}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsxs(\"p\",{className:\"ml-auto\",children:[\" Authors : \",\"    \".concat(book.author)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" \",book.copies,\" Copies available\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Location : \",\" Floor- \".concat(book.floor,\", Shelf- \").concat(book.shelf)]})]},book._id);else return/*#__PURE__*/_jsx(React.Fragment,{});});if(this.props.booksLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"container loading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(Loading,{})})});}else if(this.props.booksErrMess){return/*#__PURE__*/_jsx(\"div\",{className:\"container loading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row heading\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:this.props.booksErrMess})]})})});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"container loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 heading\",children:[/*#__PURE__*/_jsx(\"h3\",{align:\"center\",children:\"Search your book here : \"}),/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Row,{form:true,children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"name\",children:\"Name of book\"}),/*#__PURE__*/_jsx(Input,{type:\"name\",name:\"name\",id:\"name\",value:this.state.name,onChange:function onChange(e){_this2.setState({name:e.target.value});},placeholder:\"Enter name of the book\"})]})}),/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"author\",children:\"Author\"}),/*#__PURE__*/_jsx(Input,{type:\"author\",name:\"author\",id:\"author\",value:this.state.author,onChange:function onChange(e){_this2.setState({author:e.target.value});},placeholder:\"Enter name of author\"})]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{sm:6,md:2,children:[\"Category : \",' ']})}),/*#__PURE__*/_jsxs(FormGroup,{check:true,children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{xs:6,md:3,children:/*#__PURE__*/_jsxs(Label,{check:true,for:\"romance\",children:[/*#__PURE__*/_jsx(Input,{defaultChecked:true,type:\"checkbox\",onChange:this.onChange,id:\"romance\",value:\"Romance\",name:\"cat\"}),\"Romance\"]})}),/*#__PURE__*/_jsx(Col,{xs:6,md:3,children:/*#__PURE__*/_jsxs(Label,{check:true,for:\"fiction\",children:[/*#__PURE__*/_jsx(Input,{defaultChecked:true,type:\"checkbox\",onChange:this.onChange,id:\"fiction\",value:\"Fiction\",name:\"cat\"}),\"Fiction\"]})}),/*#__PURE__*/_jsx(Col,{xs:6,md:3,children:/*#__PURE__*/_jsxs(Label,{check:true,for:\"Arts\",children:[/*#__PURE__*/_jsx(Input,{defaultChecked:true,type:\"checkbox\",onChange:this.onChange,id:\"Arts\",value:\"Arts\",name:\"cat\"}),\"Arts\"]})}),/*#__PURE__*/_jsx(Col,{xs:6,md:3,children:/*#__PURE__*/_jsxs(Label,{check:true,for:\"computer\",children:[/*#__PURE__*/_jsx(Input,{defaultChecked:true,type:\"checkbox\",onChange:this.onChange,id:\"computer\",value:\"Computer Science\",name:\"cat\"}),\"Computer Science\"]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{xs:6,md:3,children:/*#__PURE__*/_jsxs(Label,{check:true,for:\"management\",children:[/*#__PURE__*/_jsx(Input,{defaultChecked:true,type:\"checkbox\",onChange:this.onChange,id:\"management\",value:\"Management\",name:\"cat\"}),\"Management\"]})}),/*#__PURE__*/_jsx(Col,{xs:6,md:3,children:/*#__PURE__*/_jsxs(Label,{check:true,for:\"Physics\",children:[/*#__PURE__*/_jsx(Input,{defaultChecked:true,type:\"checkbox\",onChange:this.onChange,id:\"Physics\",value:\"Physics\",name:\"cat\"}),\"Physics\"]})}),/*#__PURE__*/_jsx(Col,{xs:6,md:3,children:/*#__PURE__*/_jsxs(Label,{check:true,for:\"technology\",children:[/*#__PURE__*/_jsx(Input,{defaultChecked:true,type:\"checkbox\",onChange:this.onChange,id:\"technology\",value:\"Technology\",name:\"cat\"}),\"Technology\"]})}),/*#__PURE__*/_jsx(Col,{xs:6,md:3,children:/*#__PURE__*/_jsxs(Label,{check:true,for:\"Philosophy\",children:[/*#__PURE__*/_jsx(Input,{defaultChecked:true,type:\"checkbox\",onChange:this.onChange,id:\"Philosophy\",value:\"Philosophy\",name:\"cat\"}),\"Philosophy\"]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{xs:6,md:3,children:/*#__PURE__*/_jsxs(Label,{check:true,for:\"Mathematics\",children:[/*#__PURE__*/_jsx(Input,{defaultChecked:true,type:\"checkbox\",onChange:this.onChange,id:\"Mathematics\",value:\"Mathematics\",name:\"cat\"}),\"Mathematics\"]})}),/*#__PURE__*/_jsx(Col,{xs:6,md:3,children:/*#__PURE__*/_jsxs(Label,{check:true,for:\"Chemistry\",children:[/*#__PURE__*/_jsx(Input,{defaultChecked:true,type:\"checkbox\",onChange:this.onChange,id:\"Chemistry\",value:\"Chemistry\",name:\"cat\"}),\"Chemistry\"]})}),/*#__PURE__*/_jsx(Col,{xs:6,md:3,children:/*#__PURE__*/_jsxs(Label,{check:true,for:\"Electronics\",children:[/*#__PURE__*/_jsx(Input,{defaultChecked:true,type:\"checkbox\",onChange:this.onChange,id:\"Electronics\",value:\"Electronics\",name:\"cat\"}),\"Electronics\"]})}),/*#__PURE__*/_jsx(Col,{xs:6,md:3,children:/*#__PURE__*/_jsxs(Label,{check:true,for:\"Language\",children:[/*#__PURE__*/_jsx(Input,{defaultChecked:true,type:\"checkbox\",onChange:this.onChange,id:\"Language\",value:\"Language\",name:\"cat\"}),\"Language\"]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:6,md:3,children:/*#__PURE__*/_jsxs(Label,{check:true,for:\"Other\",children:[/*#__PURE__*/_jsx(Input,{defaultChecked:true,type:\"checkbox\",onChange:this.onChange,id:\"Other\",value:\"Other\",name:\"cat\"}),\"Other\"]})})})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(ListGroup,{children:list})]})}),/*#__PURE__*/_jsx(\"br\",{})]});}}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["D:/sakshi college/cc miniproject/lib_management/client/src/components/SearchComponent.js"],"names":["React","Component","Form","FormGroup","Row","Col","Label","Input","Badge","ListGroupItem","ListGroup","Loading","Link","Search","props","state","name","author","cat","onChange","bind","e","options","pos","target","checked","push","value","i","length","splice","setState","window","scrollTo","colors","nameRegex","RegExp","authorRegex","list","books","map","book","category_matched","some","category","search","_id","isAdmin","changeSelected","toggleEditModal","toggleDeleteModal","copies","floor","shelf","booksLoading","booksErrMess"],"mappings":"i2BAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,KAA8B,OAA9B,CACA,OAASC,IAAT,CAAcC,SAAd,CAAwBC,GAAxB,CAA4BC,GAA5B,CAAgCC,KAAhC,CAAuCC,KAAvC,CAA8CC,KAA9C,CAAqDC,aAArD,CAAoEC,SAApE,KAAqF,YAArF,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,C,2FAEMC,CAAAA,M,gGAEF,gBAAYC,KAAZ,CAAkB,wCACd,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAW,CACPC,IAAI,CAAE,EADC,CAEPC,MAAM,CAAE,EAFD,CAGPC,GAAG,CAAC,CAAC,SAAD,CAAW,YAAX,CAAwB,kBAAxB,CAA2C,YAA3C,CAAwD,aAAxD,CAAsE,SAAtE,CAAgF,WAAhF,CAA4F,aAA5F,CAA0G,SAA1G,CAAoH,YAApH,CAAiI,UAAjI,CAA4I,MAA5I,CAAmJ,OAAnJ,CAHG,CAAX,CAKA,MAAKC,QAAL,CAAc,MAAKA,QAAL,CAAcC,IAAd,+BAAd,CAPc,aAQjB,C,2CAED,kBAASC,CAAT,CAAY,CACR,GAAMC,CAAAA,OAAO,CAAG,KAAKP,KAAL,CAAWG,GAA3B,CACA,GAAIK,CAAAA,GAAG,CAAC,CAAC,CAAT,CAEA,GAAIF,CAAC,CAACG,MAAF,CAASC,OAAb,CAAsB,CAClBH,OAAO,CAACI,IAAR,CAAaL,CAAC,CAACG,MAAF,CAASG,KAAtB,EACH,CAFD,IAEO,CACL,GAAIC,CAAAA,CAAC,CAAC,CAAN,CACA,KAAMA,CAAC,CAACN,OAAO,CAACO,MAAhB,CAAwBD,CAAC,EAAzB,CAA4B,CACxB,GAAGN,OAAO,CAACM,CAAD,CAAP,GAAcP,CAAC,CAACG,MAAF,CAASG,KAA1B,CAAkC,CAC9BJ,GAAG,CAACK,CAAJ,CACA,MACD,CAHH,IAIM,CACH,CACN,CACDN,OAAO,CAACQ,MAAR,CAAeP,GAAf,CAAoB,CAApB,EACD,CACD,KAAKQ,QAAL,CAAc,CAAEb,GAAG,CAAEI,OAAP,CAAd,EACD,C,iCAEH,4BAAoB,CAChBU,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAmB,CAAnB,EACD,C,sBAEP,iBAAQ,iBACJ,GAAIC,CAAAA,MAAM,CAAC,CAAC,SAAD,CAAW,QAAX,CAAoB,SAApB,CAA8B,MAA9B,CAAqC,WAArC,CAAX,CACA,GAAIC,CAAAA,SAAS,CAAC,GAAIC,CAAAA,MAAJ,CAAW,KAAKrB,KAAL,CAAWC,IAAtB,CAA4B,GAA5B,CAAd,CACA,GAAIqB,CAAAA,WAAW,CAAC,GAAID,CAAAA,MAAJ,CAAW,KAAKrB,KAAL,CAAWE,MAAtB,CAA8B,GAA9B,CAAhB,CACA,GAAMqB,CAAAA,IAAI,CAAG,KAAKxB,KAAL,CAAWyB,KAAX,CAAiBC,GAAjB,CAAqB,SAACC,IAAD,CAAU,CACxC,GAAIC,CAAAA,gBAAgB,CAAC,MAAI,CAAC3B,KAAL,CAAWG,GAAX,CAAeyB,IAAf,CAAoB,SAACC,QAAD,QAAaA,CAAAA,QAAQ,GAAGH,IAAI,CAACvB,GAA7B,EAApB,CAArB,CACA,GAAKuB,IAAI,CAACzB,IAAN,CAAY6B,MAAZ,CAAmBV,SAAnB,IAAgC,CAAC,CAAlC,EAAwCM,IAAI,CAACxB,MAAN,CAAc4B,MAAd,CAAqBR,WAArB,IAAoC,CAAC,CAA5E,EAAgFK,gBAAnF,CACA,mBACI,MAAC,aAAD,yBACa,KAAC,IAAD,EAAM,EAAE,kBAAYD,IAAI,CAACK,GAAjB,CAAR,uBACA,6BAAOL,IAAI,CAACzB,IAAZ,QADA,EADb,cAIc,MAAC,KAAD,EAAO,KAAK,CAAEkB,MAAM,CAACO,IAAI,CAACvB,GAAL,CAASW,MAAT,CAAgB,CAAjB,CAApB,CAAyC,IAAI,KAA7C,eAAgDY,IAAI,CAACvB,GAArD,GAJd,CAKE,MAAI,CAACJ,KAAL,CAAWiC,OAAX,cACD,MAAC,KAAD,CAAO,QAAP,qCAA6B,aAAM,OAAO,CAAE,kBAAI,CAAC,MAAI,CAACjC,KAAL,CAAWkC,cAAX,CAA0BP,IAAI,CAACK,GAA/B,EAAqC,MAAI,CAAChC,KAAL,CAAWmC,eAAX,GAA+B,CAAxF,CAA0F,SAAS,CAAC,qBAApG,EAA7B,CACI,IADJ,oCACgC,aAAM,OAAO,CAAE,kBAAI,CAAC,MAAI,CAACnC,KAAL,CAAWkC,cAAX,CAA0BP,IAAI,CAACK,GAA/B,EAAqC,MAAI,CAAChC,KAAL,CAAWoC,iBAAX,GAAgC,CAAzF,CAA2F,SAAS,CAAC,oBAArG,EADhC,GADC,cAIE,KAAC,KAAD,CAAO,QAAP,IATJ,cAWA,aAXA,kBAWM,WAAG,SAAS,CAAC,SAAb,uCAA0CT,IAAI,CAACxB,MAA/C,IAXN,cAYC,yBAAKwB,IAAI,CAACU,MAAV,uBAZD,cAaC,qDAA0BV,IAAI,CAACW,KAA/B,qBAAgDX,IAAI,CAACY,KAArD,IAbD,GAAoBZ,IAAI,CAACK,GAAzB,CADJ,CADA,IAiBS,oBAAQ,KAAC,KAAD,CAAO,QAAP,IAAR,CACZ,CApBY,CAAb,CAqBA,GAAI,KAAKhC,KAAL,CAAWwC,YAAf,CAA6B,CACzB,mBACI,YAAK,SAAS,CAAC,mBAAf,uBACI,YAAK,SAAS,CAAC,KAAf,uBACI,KAAC,OAAD,IADJ,EADJ,EADJ,CAOH,CARD,IASK,IAAI,KAAKxC,KAAL,CAAWyC,YAAf,CAA6B,CAC9B,mBACI,YAAK,SAAS,CAAC,mBAAf,uBACI,YAAK,SAAS,CAAC,aAAf,uBACI,aAAK,SAAS,CAAC,QAAf,wBACI,aADJ,cACS,aADT,cACc,aADd,cACmB,aADnB,cAEI,oBAAK,KAAKzC,KAAL,CAAWyC,YAAhB,EAFJ,GADJ,EADJ,EADJ,CAUH,CAXI,IAaL,CACA,mBAEI,aAAK,SAAS,CAAC,mBAAf,wBACA,YAAK,SAAS,CAAC,KAAf,uBACI,aAAK,SAAS,CAAC,gBAAf,wBACC,WAAI,KAAK,CAAC,QAAV,sCADD,cAEC,MAAC,IAAD,yBACL,MAAC,GAAD,EAAK,IAAI,KAAT,wBACE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,uBACE,MAAC,SAAD,yBACE,KAAC,KAAD,EAAO,GAAG,CAAC,MAAX,0BADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,MAAxB,CAA+B,EAAE,CAAC,MAAlC,CAAyC,KAAK,CAAE,KAAKxC,KAAL,CAAWC,IAA3D,CAAiE,QAAQ,CAAE,kBAACK,CAAD,CAAK,CAAC,MAAI,CAACU,QAAL,CAAc,CAACf,IAAI,CAAEK,CAAC,CAACG,MAAF,CAASG,KAAhB,CAAd,EAAuC,CAAxH,CAA0H,WAAW,CAAC,wBAAtI,EAFF,GADF,EADF,cAOE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,uBACE,MAAC,SAAD,yBACE,KAAC,KAAD,EAAO,GAAG,CAAC,QAAX,oBADF,cAEE,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,IAAI,CAAC,QAA1B,CAAmC,EAAE,CAAC,QAAtC,CAA+C,KAAK,CAAE,KAAKZ,KAAL,CAAWE,MAAjE,CAA0E,QAAQ,CAAE,kBAACI,CAAD,CAAK,CAAC,MAAI,CAACU,QAAL,CAAc,CAACd,MAAM,CAAEI,CAAC,CAACG,MAAF,CAASG,KAAlB,CAAd,EAAyC,CAAnI,CAAqI,WAAW,CAAC,sBAAjJ,EAFF,GADF,EAPF,GADK,cAeL,KAAC,GAAD,wBACA,MAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,yBACgB,GADhB,GADA,EAfK,cAoBL,MAAC,SAAD,EAAW,KAAK,KAAhB,wBACA,MAAC,GAAD,yBACA,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,uBACE,MAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,GAAG,CAAC,SAAjB,wBACE,KAAC,KAAD,EAAO,cAAc,KAArB,CAAsB,IAAI,CAAC,UAA3B,CAAsC,QAAQ,CAAE,KAAKR,QAArD,CAA+D,EAAE,CAAC,SAAlE,CAA4E,KAAK,CAAC,SAAlF,CAA4F,IAAI,CAAC,KAAjG,EADF,aADF,EADA,cAOA,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,uBACE,MAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,GAAG,CAAC,SAAjB,wBACE,KAAC,KAAD,EAAO,cAAc,KAArB,CAAsB,IAAI,CAAC,UAA3B,CAAsC,QAAQ,CAAE,KAAKA,QAArD,CAA+D,EAAE,CAAC,SAAlE,CAA4E,KAAK,CAAC,SAAlF,CAA4F,IAAI,CAAC,KAAjG,EADF,aADF,EAPA,cAcE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,uBACA,MAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,GAAG,CAAC,MAAjB,wBACE,KAAC,KAAD,EAAO,cAAc,KAArB,CAAsB,IAAI,CAAC,UAA3B,CAAsC,QAAQ,CAAE,KAAKA,QAArD,CAA+D,EAAE,CAAC,MAAlE,CAAyE,KAAK,CAAC,MAA/E,CAAsF,IAAI,CAAC,KAA3F,EADF,UADA,EAdF,cAoBE,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,uBACA,MAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,GAAG,CAAC,UAAjB,wBACE,KAAC,KAAD,EAAO,cAAc,KAArB,CAAsB,IAAI,CAAC,UAA3B,CAAsC,QAAQ,CAAE,KAAKA,QAArD,CAA+D,EAAE,CAAC,UAAlE,CAA6E,KAAK,CAAC,kBAAnF,CAAsG,IAAI,CAAC,KAA3G,EADF,sBADA,EApBF,GADA,cA4BE,MAAC,GAAD,yBACF,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,uBACE,MAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,GAAG,CAAC,YAAjB,wBACE,KAAC,KAAD,EAAO,cAAc,KAArB,CAAsB,IAAI,CAAC,UAA3B,CAAsC,QAAQ,CAAE,KAAKA,QAArD,CAA+D,EAAE,CAAC,YAAlE,CAA+E,KAAK,CAAC,YAArF,CAAkG,IAAI,CAAC,KAAvG,EADF,gBADF,EADE,cAOF,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,uBACE,MAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,GAAG,CAAC,SAAjB,wBACE,KAAC,KAAD,EAAO,cAAc,KAArB,CAAsB,IAAI,CAAC,UAA3B,CAAsC,QAAQ,CAAE,KAAKA,QAArD,CAA+D,EAAE,CAAC,SAAlE,CAA4E,KAAK,CAAC,SAAlF,CAA4F,IAAI,CAAC,KAAjG,EADF,aADF,EAPE,cAcA,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,uBACA,MAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,GAAG,CAAC,YAAjB,wBACE,KAAC,KAAD,EAAO,cAAc,KAArB,CAAsB,IAAI,CAAC,UAA3B,CAAsC,QAAQ,CAAE,KAAKA,QAArD,CAA+D,EAAE,CAAC,YAAlE,CAA+E,KAAK,CAAC,YAArF,CAAmG,IAAI,CAAC,KAAxG,EADF,gBADA,EAdA,cAoBA,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,uBACA,MAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,GAAG,CAAC,YAAjB,wBACE,KAAC,KAAD,EAAO,cAAc,KAArB,CAAsB,IAAI,CAAC,UAA3B,CAAsC,QAAQ,CAAE,KAAKA,QAArD,CAA+D,EAAE,CAAC,YAAlE,CAA+E,KAAK,CAAC,YAArF,CAAkG,IAAI,CAAC,KAAvG,EADF,gBADA,EApBA,GA5BF,cAuDE,MAAC,GAAD,yBACF,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,uBACE,MAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,GAAG,CAAC,aAAjB,wBACE,KAAC,KAAD,EAAO,cAAc,KAArB,CAAsB,IAAI,CAAC,UAA3B,CAAsC,QAAQ,CAAE,KAAKA,QAArD,CAA+D,EAAE,CAAC,aAAlE,CAAgF,KAAK,CAAC,aAAtF,CAAoG,IAAI,CAAC,KAAzG,EADF,iBADF,EADE,cAOF,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,uBACE,MAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,GAAG,CAAC,WAAjB,wBACE,KAAC,KAAD,EAAO,cAAc,KAArB,CAAsB,IAAI,CAAC,UAA3B,CAAsC,QAAQ,CAAE,KAAKA,QAArD,CAA+D,EAAE,CAAC,WAAlE,CAA8E,KAAK,CAAC,WAApF,CAAgG,IAAI,CAAC,KAArG,EADF,eADF,EAPE,cAcA,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,uBACA,MAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,GAAG,CAAC,aAAjB,wBACE,KAAC,KAAD,EAAO,cAAc,KAArB,CAAsB,IAAI,CAAC,UAA3B,CAAsC,QAAQ,CAAE,KAAKA,QAArD,CAA+D,EAAE,CAAC,aAAlE,CAAgF,KAAK,CAAC,aAAtF,CAAoG,IAAI,CAAC,KAAzG,EADF,iBADA,EAdA,cAoBA,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,uBACA,MAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,GAAG,CAAC,UAAjB,wBACE,KAAC,KAAD,EAAO,cAAc,KAArB,CAAsB,IAAI,CAAC,UAA3B,CAAsC,QAAQ,CAAE,KAAKA,QAArD,CAA+D,EAAE,CAAC,UAAlE,CAA6E,KAAK,CAAC,UAAnF,CAA8F,IAAI,CAAC,KAAnG,EADF,cADA,EApBA,GAvDF,cAkFE,KAAC,GAAD,wBACA,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,EAAE,CAAE,CAAhB,uBACA,MAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,GAAG,CAAC,OAAjB,wBACE,KAAC,KAAD,EAAO,cAAc,KAArB,CAAsB,IAAI,CAAC,UAA3B,CAAsC,QAAQ,CAAE,KAAKA,QAArD,CAA+D,EAAE,CAAC,OAAlE,CAA0E,KAAK,CAAC,OAAhF,CAAwF,IAAI,CAAC,KAA7F,EADF,WADA,EADA,EAlFF,GApBK,GAFD,GADJ,EADA,cAsHA,YAAK,SAAS,CAAC,KAAf,uBACA,aAAK,SAAS,CAAC,QAAf,wBACF,aADE,cAEF,KAAC,SAAD,WACCmB,IADD,EAFE,GADA,EAtHA,cA8HF,aA9HE,GAFJ,CAoIH,CACA,C,oBA1NoBrC,S,EA8NrB,cAAeY,CAAAA,MAAf","sourcesContent":["import React,{Component} from 'react';\r\nimport { Form,FormGroup,Row,Col,Label, Input, Badge, ListGroupItem, ListGroup } from 'reactstrap';\r\nimport Loading from './LoadingComponent.js';\r\nimport {Link} from 'react-router-dom';\r\n\r\nclass Search extends Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            name: '',\r\n            author: '',\r\n            cat:['Romance','Technology','Computer Science','Management','Electronics','Physics','Chemistry','Mathematics','Fiction','Philosophy','Language','Arts','Other']\r\n        }\r\n        this.onChange=this.onChange.bind(this);\r\n    }\r\n\r\n    onChange(e) {\r\n        const options = this.state.cat;\r\n        let pos=-1;\r\n    \r\n        if (e.target.checked) {\r\n            options.push(e.target.value)\r\n        } else {\r\n          let i=0;\r\n          for(; i<options.length; i++){\r\n              if(options[i]===(e.target.value)) {\r\n                  pos=i;\r\n                  break;\r\n                }\r\n                else{\r\n                }\r\n          }\r\n          options.splice(pos, 1)\r\n        }\r\n        this.setState({ cat: options });\r\n      }\r\n\r\n    componentDidMount() {\r\n        window.scrollTo(0, 0)\r\n      }\r\n      \r\nrender(){\r\n    var colors=[\"warning\",\"danger\",\"success\",\"info\",\"secondary\"];\r\n    var nameRegex=new RegExp(this.state.name, 'i');\r\n    var authorRegex=new RegExp(this.state.author, 'i');\r\n    const list = this.props.books.map((book) => {\r\n        let category_matched=this.state.cat.some((category)=>(category===book.cat));\r\n        if(((book.name).search(nameRegex)!==-1)&&((book.author).search(authorRegex)!==-1)&&category_matched)\r\n        return (\r\n            <ListGroupItem key={book._id}>\r\n                         <Link to={`/books/${book._id}`}>\r\n                         <b>{`${book.name}  `}</b> \r\n                         </Link>\r\n                          <Badge color={colors[book.cat.length%5]} pill> {book.cat}</Badge>\r\n             {this.props.isAdmin?(\r\n             <React.Fragment>&nbsp; &nbsp;<span onClick={()=>{this.props.changeSelected(book._id); this.props.toggleEditModal(); }} className=\"Option fa fa-pencil\"/>\r\n                {'  '}&nbsp;   &nbsp;        <span onClick={()=>{this.props.changeSelected(book._id); this.props.toggleDeleteModal();}} className=\"Option fa fa-trash\"/>\r\n                          </React.Fragment>\r\n             ):(<React.Fragment/>)}\r\n            \r\n            <br/> <p className=\"ml-auto\"> Authors : {`    ${book.author}`}</p>\r\n             <p> {book.copies} Copies available</p>\r\n             <p>Location : {` Floor- ${book.floor}, Shelf- ${book.shelf}`}</p>\r\n            </ListGroupItem>        );\r\n            else return (<React.Fragment/>);\r\n    });\r\n    if (this.props.booksLoading) {\r\n        return(\r\n            <div className=\"container loading\">\r\n                <div className=\"row\">            \r\n                    <Loading />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    else if (this.props.booksErrMess) {\r\n        return(\r\n            <div className=\"container loading\">\r\n                <div className=\"row heading\"> \r\n                    <div className=\"col-12\">\r\n                        <br/><br/><br/><br/>\r\n                        <h3>{this.props.booksErrMess}</h3>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    else\r\n    {\r\n    return(\r\n        \r\n        <div className=\"container loading\">\r\n        <div className=\"row\">\r\n            <div className=\"col-12 heading\">\r\n             <h3 align=\"center\">Search your book here : </h3>\r\n             <Form>\r\n        <Row form>\r\n          <Col md={6}>\r\n            <FormGroup>\r\n              <Label for=\"name\">Name of book</Label>\r\n              <Input type=\"name\" name=\"name\" id=\"name\" value={this.state.name} onChange={(e)=>{this.setState({name: e.target.value});}} placeholder=\"Enter name of the book\" />\r\n            </FormGroup>\r\n          </Col>\r\n          <Col md={6}>\r\n            <FormGroup>\r\n              <Label for=\"author\">Author</Label>\r\n              <Input type=\"author\" name=\"author\" id=\"author\" value={this.state.author}  onChange={(e)=>{this.setState({author: e.target.value});}} placeholder=\"Enter name of author\" />\r\n            </FormGroup>\r\n          </Col>\r\n        </Row> \r\n        <Row>\r\n        <Col sm={6} md={2}>\r\n            Category : {' '}\r\n        </Col>\r\n        </Row>\r\n        <FormGroup check>\r\n        <Row>\r\n        <Col xs={6} md={3}>\r\n          <Label check for=\"romance\">\r\n            <Input defaultChecked type=\"checkbox\" onChange={this.onChange} id=\"romance\" value=\"Romance\" name=\"cat\" />\r\n            Romance \r\n          </Label>\r\n        </Col>\r\n        <Col xs={6} md={3}>\r\n          <Label check for=\"fiction\">\r\n            <Input defaultChecked type=\"checkbox\" onChange={this.onChange} id=\"fiction\" value=\"Fiction\" name=\"cat\" />\r\n            Fiction\r\n          </Label>\r\n          </Col>\r\n\r\n          <Col xs={6} md={3}>\r\n          <Label check for=\"Arts\">\r\n            <Input defaultChecked type=\"checkbox\" onChange={this.onChange} id=\"Arts\" value=\"Arts\" name=\"cat\" />\r\n            Arts\r\n          </Label>\r\n          </Col>\r\n          <Col xs={6} md={3}>\r\n          <Label check for=\"computer\">\r\n            <Input defaultChecked type=\"checkbox\" onChange={this.onChange} id=\"computer\" value=\"Computer Science\" name=\"cat\" />\r\n            Computer Science\r\n          </Label>\r\n          </Col>\r\n          </Row>\r\n          <Row>\r\n        <Col xs={6} md={3}>\r\n          <Label check for=\"management\">\r\n            <Input defaultChecked type=\"checkbox\" onChange={this.onChange} id=\"management\" value=\"Management\" name=\"cat\" />\r\n            Management \r\n          </Label>\r\n        </Col>\r\n        <Col xs={6} md={3}>\r\n          <Label check for=\"Physics\">\r\n            <Input defaultChecked type=\"checkbox\" onChange={this.onChange} id=\"Physics\" value=\"Physics\" name=\"cat\" />\r\n            Physics\r\n          </Label>\r\n          </Col>\r\n\r\n          <Col xs={6} md={3}>\r\n          <Label check for=\"technology\">\r\n            <Input defaultChecked type=\"checkbox\" onChange={this.onChange} id=\"technology\" value=\"Technology\"  name=\"cat\" />\r\n            Technology\r\n          </Label>\r\n          </Col>\r\n          <Col xs={6} md={3}>\r\n          <Label check for=\"Philosophy\">\r\n            <Input defaultChecked type=\"checkbox\" onChange={this.onChange} id=\"Philosophy\" value=\"Philosophy\" name=\"cat\" />\r\n            Philosophy\r\n          </Label>\r\n          </Col>\r\n          </Row>\r\n          <Row>\r\n        <Col xs={6} md={3}>\r\n          <Label check for=\"Mathematics\">\r\n            <Input defaultChecked type=\"checkbox\" onChange={this.onChange} id=\"Mathematics\" value=\"Mathematics\" name=\"cat\" />\r\n            Mathematics \r\n          </Label>\r\n        </Col>\r\n        <Col xs={6} md={3}>\r\n          <Label check for=\"Chemistry\">\r\n            <Input defaultChecked type=\"checkbox\" onChange={this.onChange} id=\"Chemistry\" value=\"Chemistry\" name=\"cat\" />\r\n            Chemistry\r\n          </Label>\r\n          </Col>\r\n\r\n          <Col xs={6} md={3}>\r\n          <Label check for=\"Electronics\">\r\n            <Input defaultChecked type=\"checkbox\" onChange={this.onChange} id=\"Electronics\" value=\"Electronics\" name=\"cat\" />\r\n            Electronics\r\n          </Label>\r\n          </Col>\r\n          <Col xs={6} md={3}>\r\n          <Label check for=\"Language\">\r\n            <Input defaultChecked type=\"checkbox\" onChange={this.onChange} id=\"Language\" value=\"Language\" name=\"cat\" />\r\n            Language\r\n          </Label>\r\n          </Col>\r\n          </Row>\r\n          <Row>\r\n          <Col xs={6} md={3}>\r\n          <Label check for=\"Other\">\r\n            <Input defaultChecked type=\"checkbox\" onChange={this.onChange} id=\"Other\" value=\"Other\" name=\"cat\" />\r\n            Other\r\n          </Label>\r\n          </Col>\r\n        </Row>\r\n        </FormGroup>\r\n        </Form>\r\n            </div>\r\n        </div>\r\n        <div className=\"row\">\r\n        <div className=\"col-12\">\r\n      <br/>\r\n      <ListGroup>\r\n      {list}\r\n      </ListGroup>\r\n      </div>\r\n      </div>\r\n      <br/>\r\n    </div>\r\n\r\n        );\r\n}\r\n}\r\n\r\n}\r\n\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}